// ES6 compatibility checks
// -------------------------
function f(b){return new Function(b)}
var tests = {
  es5: {

      "Object.create":f("return\"function\"==typeof Object.create"),
      "Object.defineProperty":f("return\"function\"==typeof Object.defineProperty"),
      "Object.defineProperties":f("return\"function\"==typeof Object.defineProperties"),
      "Object.getPrototypeOf":f("return\"function\"==typeof Object.getPrototypeOf"),
      "Object.keys":f("return\"function\"==typeof Object.keys"),
      "Object.seal":f("return\"function\"==typeof Object.seal"),
      "Object.freeze":f("return\"function\"==typeof Object.freeze"),
      "Object.preventExtensions":f("return\"function\"==typeof Object.preventExtensions"),
      "Object.isSealed":f("return\"function\"==typeof Object.isSealed"),
      "Object.isFrozen":f("return\"function\"==typeof Object.isFrozen"),
      "Object.isExtensible":f("return\"function\"==typeof Object.isExtensible"),
      "Object.getOwnPropertyDescriptor":f("return\"function\"==typeof Object.getOwnPropertyDescriptor"),
      "Object.getOwnPropertyNames":f("return\"function\"==typeof Object.getOwnPropertyNames"),
      "Date.prototype.toISOString":f("return\"function\"==typeof Date.prototype.toISOString"),
      "Date.now":f("return\"function\"==typeof Date.now"),
      "Date.prototype.toJSON":f("\n      return false;\n    }\n  "),
      "Date.parse on invalid dates":f("var a=!isNaN(Date.parse(\"2012-04-04T24:00:00.500Z\")),e=!isNaN(Date.parse(\"2012-12-31T24:01:00.000Z\")),r=!isNaN(Date.parse(\"2011-02-29T12:00:00.000Z\"));return!a&&!e&&!r"),
      "Array.isArray":f("return\"function\"==typeof Array.isArray"),
      "JSON":f("return\"object\"==typeof JSON"),
      "Function.prototype.bind":f("return\"function\"==typeof Function.prototype.bind"),
      "String.prototype.trim":f("return\"function\"==typeof String.prototype.trim"),
      "Array.prototype.indexOf":f("return\"function\"==typeof Array.prototype.indexOf"),
      "Array.prototype.lastIndexOf":f("return\"function\"==typeof Array.prototype.lastIndexOf"),
      "Array.prototype.every":f("return\"function\"==typeof Array.prototype.every"),
      "Array.prototype.some":f("return\"function\"==typeof Array.prototype.some"),
      "Array.prototype.forEach":f("return\"function\"==typeof Array.prototype.forEach"),
      "Array.prototype.map":f("return\"function\"==typeof Array.prototype.map"),
      "Array.prototype.filter":f("return\"function\"==typeof Array.prototype.filter"),
      "Array.prototype.reduce":f("return\"function\"==typeof Array.prototype.reduce"),
      "Array.prototype.reduceRight":f("return\"function\"==typeof Array.prototype.reduceRight"),
      "Getter in property initializer":f("return 1==={get x(){return 1}}.x"),
      "Setter in property initializer":f("var t=0;return{set x(n){t=n}}.x=1,1===t"),
      "Property access on strings":f("return\"b\"===\"foobar\"[3]"),
      "Reserved words as property names":f("return 1==={\"if\":1}[\"if\"]"),
      "Zero-width chars in identifiers":f("var n=!0;return n"),
      "parseInt() ignores leading zeros":f("return 10===parseInt(\"010\")"),
      "Immutable undefined":f("undefined=12345;var n=!0;return undefined=void 0,n"),
      "Strict mode":f("\"use strict\";return!this")  
},

  es6: {

    "proper tail calls (tail call optimisation)": { // test
      "direct recursion":f("\"use strict\";return\"foo\"===function n(o){return 0>=o?\"foo\":n(o-1)}(1e6)"),
      "mutual recursion":f("\"use strict\";function n(n){return 0>=n?\"foo\":r(n-1)}function r(r){return 0>=r?\"bar\":n(r-1)}return\"foo\"===n(1e6)&&\"bar\"===n(1e6+1)")
    },
    "default function parameters": { // test
      "basic functionality":f("\n        return (function (a = 1, b = 2) { return a === 3 && b === 2; }(3));\n      "),
      "explicit undefined defers to the default":f("\n        return (function (a = 1, b = 2) { return a === 1 && b === 3; }(undefined, 3));\n      "),
      "defaults can refer to previous params":f("\n        return (function (a, b = a) { return b === 5; }(5));\n      "),
      "arguments object interaction":f("\n        return (function (a = \"baz\", b = \"qux\", c = \"quux\") {\n          a = \"corge\";\n          // The arguments object is not mapped to the\n          // parameters, even outside of strict mode.\n          return arguments.length === 2\n            && arguments[0] === \"foo\"\n            && arguments[1] === \"bar\";\n        }(\"foo\", \"bar\"));\n      "),
      "temporal dead zone":f("\n        return (function(x = 1) {\n          try {\n            eval(\"(function(a=a){}())\");\n            return false;\n          } catch(e) {}\n          try {\n            eval(\"(function(a=b,b){}())\");\n            return false;\n          } catch(e) {}\n          return true;\n        }());\n      "),
      "separate scope":f("\n        return (function(a=function(){\n          return typeof b === 'undefined';\n        }){\n          var b = 1;\n          return a();\n        }());\n      "),
      "new Function() support":f("return new Function(\"a = 1\",\"b = 2\",\"return a === 3 && b === 2;\")(3)")
    },
    "rest parameters": { // test
      "basic functionality":f("\n        return (function (foo, ...args) {\n          return args instanceof Array && args + \"\" === \"bar,baz\";\n        }(\"foo\", \"bar\", \"baz\"));\n      "),
      "function 'length' property":f("\n        return function(a, ...b){}.length === 1 && function(...c){}.length === 0;\n      "),
      "arguments object interaction":f("\n        return (function (foo, ...args) {\n          foo = \"qux\";\n          // The arguments object is not mapped to the\n          // parameters, even outside of strict mode.\n          return arguments.length === 3\n            && arguments[0] === \"foo\"\n            && arguments[1] === \"bar\"\n            && arguments[2] === \"baz\";\n        }(\"foo\", \"bar\", \"baz\"));\n      "),
      "can't be used in setters":f("\n        return (function (...args) {\n          try {\n            eval(\"({set e(...args){}})\");\n          } catch(e) {\n            return true;\n          }\n        }());\n      "),
      "new Function() support":f("return new Function(\"a\",\"...b\",\"return b instanceof Array && a+b === 'foobar,baz';\")(\"foo\",\"bar\",\"baz\")")
    },
    "spread (...) operator": { // test
      "with arrays, in function calls":f("\n        return Math.max(...[1, 2, 3]) === 3\n      "),
      "with arrays, in array literals":f("\n       return [...[1, 2, 3]][2] === 3;\n      "),
      "with sparse arrays, in function calls":f("\n        var a = Array(...[,,]);\n        return \"0\" in a && \"1\" in a && '' + a[0] + a[1] === \"undefinedundefined\";\n      "),
      "with sparse arrays, in array literals":f("\n        var a = [...[,,]];\n        return \"0\" in a && \"1\" in a && '' + a[0] + a[1] === \"undefinedundefined\";\n      "),
      "with strings, in function calls":f("\n       return Math.max(...\"1234\") === 4;\n      "),
      "with strings, in array literals":f("\n       return [\"a\", ...\"bcd\", \"e\"][3] === \"d\";\n      "),
      "with astral plane strings, in function calls":f("\n       return Array(...\"†Æ∑†Æ∂\")[0] === \"†Æ∑\";\n      "),
      "with astral plane strings, in array literals":f("\n       return [...\"†Æ∑†Æ∂\"][0] === \"†Æ∑\";\n      "),
      "with generator instances, in calls":f("\n        var iterable = (function*(){ yield 1; yield 2; yield 3; }());\n        return Math.max(...iterable) === 3;\n      "),
      "with generator instances, in arrays":f("\n        var iterable = (function*(){ yield \"b\"; yield \"c\"; yield \"d\"; }());\n        return [\"a\", ...iterable, \"e\"][3] === \"d\";\n      "),
      "with generic iterables, in calls":f("\n        var iterable = global.__createIterableObject([1, 2, 3]);\n        return Math.max(...iterable) === 3;\n      "),
      "with generic iterables, in arrays":f("\n        var iterable = global.__createIterableObject([\"b\", \"c\", \"d\"]);\n        return [\"a\", ...iterable, \"e\"][3] === \"d\";\n      "),
      "with instances of iterables, in calls":f("\n        var iterable = global.__createIterableObject([1, 2, 3]);\n        return Math.max(...Object.create(iterable)) === 3;\n      "),
      "with instances of iterables, in arrays":f("\n        var iterable = global.__createIterableObject([\"b\", \"c\", \"d\"]);\n        return [\"a\", ...Object.create(iterable), \"e\"][3] === \"d\";\n      "),
      "spreading non-iterables is a runtime error":f("\n        try {\n          Math.max(...2);\n        } catch(e) {\n          return Math.max(...[1, 2, 3]) === 3;\n        }\n      ")
    },
    "object literal extensions": { // test
      "computed properties":f("\n        var x = 'y';\n        return ({ [x]: 1 }).y === 1;\n      "),
      "shorthand properties":f("\n        var a = 7, b = 8, c = {a,b};\n        return c.a === 7 && c.b === 8;\n      "),
      "shorthand methods":f("\n        return ({ y() { return 2; } }).y() === 2;\n      "),
      "string-keyed shorthand methods":f("\n        return ({ \"foo bar\"() { return 4; } })[\"foo bar\"]() === 4;\n      "),
      "computed shorthand methods":f("\n        var x = 'y';\n        return ({ [x](){ return 1 } }).y() === 1;\n      "),
      "computed accessors":f("\n        var x = 'y',\n            valueSet,\n            obj = {\n              get [x] () { return 1 },\n              set [x] (value) { valueSet = value }\n            };\n        obj.y = 'foo';\n        return obj.y === 1 && valueSet === 'foo';\n      ")
    },
    "for..of loops": { // test
      "with arrays":f("\n        var arr = [5];\n        for (var item of arr)\n          return item === 5;\n      "),
      "with sparse arrays":f("\n        var arr = [,,];\n        var count = 0;\n        for (var item of arr)\n          count += (item === undefined);\n        return count === 2;\n      "),
      "with strings":f("\n        var str = \"\";\n        for (var item of \"foo\")\n          str += item;\n        return str === \"foo\";\n      "),
      "with astral plane strings":f("\n        var str = \"\";\n        for (var item of \"†Æ∑†Æ∂\")\n          str += item + \" \";\n        return str === \"†Æ∑ †Æ∂ \";\n      "),
      "with generator instances":f("\n        var result = \"\";\n        var iterable = (function*(){ yield 1; yield 2; yield 3; }());\n        for (var item of iterable) {\n          result += item;\n        }\n        return result === \"123\";\n      "),
      "with generic iterables":f("\n        var result = \"\";\n        var iterable = global.__createIterableObject([1, 2, 3]);\n        for (var item of iterable) {\n          result += item;\n        }\n        return result === \"123\";\n      "),
      "with instances of generic iterables":f("\n        var result = \"\";\n        var iterable = global.__createIterableObject([1, 2, 3]);\n        for (var item of Object.create(iterable)) {\n          result += item;\n        }\n        return result === \"123\";\n      "),
      "iterator closing, break":f("\n        var closed = false;\n        var iter = __createIterableObject([1, 2, 3], {\n          'return': function(){ closed = true; return {}; }\n        });\n        for (var it of iter) break;\n        return closed;\n      "),
      "iterator closing, throw":f("\n        var closed = false;\n        var iter = __createIterableObject([1, 2, 3], {\n          'return': function(){ closed = true; return {}; }\n        });\n        try {\n          for (var it of iter) throw 0;\n        } catch(e){}\n        return closed;\n      ")
    },
    "octal and binary literals": { // test
      "octal literals":f("\n        return 0o10 === 8 && 0O10 === 8;\n      "),
      "binary literals":f("\n        return 0b10 === 2 && 0B10 === 2;\n      "),
      "octal supported by Number()":f("return 1===Number(\"0o1\")"),
      "binary supported by Number()":f("return 1===Number(\"0b1\")")
    },
    "template strings": { // test
      "basic functionality":f("\n        var a = \"ba\", b = \"QUX\";\n        return `foo bar\n        ${a + \"z\"} ${b.toLowerCase()}` === \"foo bar\\nbaz qux\";\n      "),
      "toString conversion":f("\n        var a = {\n          toString: function() { return \"foo\"; },\n          valueOf: function() { return \"bar\"; },\n        };\n        return `${a}` === \"foo\";\n      "),
      "tagged template strings":f("\n        var called = false;\n        function fn(parts, a, b) {\n          called = true;\n          return parts instanceof Array &&\n            parts[0]     === \"foo\"      &&\n            parts[1]     === \"bar\\n\"    &&\n            parts.raw[0] === \"foo\"      &&\n            parts.raw[1] === \"bar\\\\n\"   &&\n            a === 123                   &&\n            b === 456;\n        }\n        return fn `foo${123}bar\\n${456}` && called;\n      "),
      "passed array is frozen":f("\n        return (function(parts) {\n          return Object.isFrozen(parts) && Object.isFrozen(parts.raw);\n        }) `foo${0}bar${0}baz`;\n      "),
      "line break normalisation":f("var cr=eval(\"`x\"+String.fromCharCode(13)+\"y`\"),lf=eval(\"`x\"+String.fromCharCode(10)+\"y`\"),crlf=eval(\"`x\"+String.fromCharCode(13,10)+\"y`\");return 3===cr.length&&3===lf.length&&3===crlf.length&&cr[1]===lf[1]&&lf[1]===crlf[1]&&\"\\n\"===crlf[1]")
    },
    "RegExp \"y\" and \"u\" flags": { // test
      "\"y\" flag":f("var e=new RegExp(\"\\\\w\",\"y\");return e.exec(\"xy\"),\"y\"===e.exec(\"xy\")[0]"),
      "\"y\" flag, lastIndex":f("var x=new RegExp(\"yy\",\"y\");x.lastIndex=3;var e=x.exec(\"xxxyyxx\")[0];return\"yy\"===e&&5===x.lastIndex"),
      "\"u\" flag":f("\n        return \"†Æ∑\".match(/^.$/u)[0].length === 2;\n      "),
      "\"u\" flag, Unicode code point escapes":f("\n        return \"ùåÜ\".match(/\\u{1d306}/u)[0].length === 2;\n      ")
    },
    "destructuring": { // test
      "with arrays":f("\n        var [a, , [b], c] = [5, null, [6]];\n        var d, e;\n        [d,e] = [7,8];\n        return a === 5 && b === 6 && c === undefined\n          && d === 7 && e === 8;\n      "),
      "with sparse arrays":f("\n        var [a, , b] = [,,,];\n        return a === undefined && b === undefined;\n      "),
      "with strings":f("\n        var [a, b, c] = \"ab\";\n        var d, e;\n        [d,e] = \"de\";\n        return a === \"a\" && b === \"b\" && c === undefined\n          && d === \"d\" && e === \"e\";\n      "),
      "with astral plane strings":f("var n;return[n]=\"†Æ∑†Æ∂\",\"†Æ∑\"===n"),
      "with generator instances":f("\n        var [a, b, c] = (function*(){ yield 1; yield 2; }());\n        var d, e;\n        [d, e] = (function*(){ yield 3; yield 4; }());\n        return a === 1 && b === 2 && c === undefined\n          && d === 3 && e === 4;\n      "),
      "with generic iterables":f("\n        var [a, b, c] = global.__createIterableObject([1, 2]);\n        var d, e;\n        [d, e] = global.__createIterableObject([3, 4]);\n        return a === 1 && b === 2 && c === undefined\n          && d === 3 && e === 4;\n      "),
      "with instances of generic iterables":f("\n        var [a, b, c] = Object.create(global.__createIterableObject([1, 2]))\n        var d, e;\n        [d, e] = Object.create(global.__createIterableObject([3, 4]));\n        return a === 1 && b === 2 && c === undefined\n          && d === 3 && e === 4;\n      "),
      "iterator closing":f("\n        var closed = false;\n        var iter = global.__createIterableObject([1, 2, 3], {\n          'return': function(){ closed = true; return {}; }\n        });\n        var [a, b] = iter;\n        return closed;\n      "),
      "iterable destructuring expression":f("var n,r,t=[1,2];return([n,r]=t)===t"),
      "chained iterable destructuring":f("var n,r,t,u;return[n,r]=[t,u]=[1,2],1===n&&2===r&&1===t&&2===u"),
      "trailing commas in iterable patterns":f("\n        var [a,] = [1];\n        return a === 1;\n      "),
      "with objects":f("\n        var {c, x:d, e} = {c:7, x:8};\n        var f, g;\n        ({f,g} = {f:9,g:10});\n        return c === 7 && d === 8 && e === undefined\n          && f === 9 && g === 10;\n      "),
      "object destructuring with primitives":f("\n        var {toFixed} = 2;\n        var {slice} = '';\n        var toString, match;\n        ({toString} = 2);\n        ({match} = '');\n        return toFixed === Number.prototype.toFixed\n          && toString === Number.prototype.toString\n          && slice === String.prototype.slice\n          && match === String.prototype.match;\n      "),
      "trailing commas in object patterns":f("\n        var {a,} = {a:1};\n        return a === 1;\n      "),
      "object destructuring expression":f("\n        var a, b, obj = { a:1, b:2 };\n        return ({a,b} = obj) === obj;\n      "),
      "parenthesised left-hand-side is a syntax error":f("\n        var a, b;\n        ({a,b} = {a:1,b:2});\n        try {\n          eval(\"({a,b}) = {a:3,b:4};\");\n        }\n        catch(e) {\n          return a === 1 && b === 2;\n        }\n      "),
      "chained object destructuring":f("\n        var a,b,c,d;\n        ({a,b} = {c,d} = {a:1,b:2,c:3,d:4});\n        return a === 1 && b === 2 && c === 3 && d === 4;\n      "),
      "throws on null and undefined":f("\n        try {\n          var {a} = null;\n          return false;\n        } catch(e) {}\n        try {\n          var {b} = undefined;\n          return false;\n        } catch(e) {}\n        return true;\n      "),
      "computed properties":f("\n        var qux = \"corge\";\n        var { [qux]: grault } = { corge: \"garply\" };\n        return grault === \"garply\";\n      "),
      "multiples in a single var statement":f("\n        var [a,b] = [5,6], {c,d} = {c:7,d:8};\n        return a === 5 && b === 6 && c === 7 && d === 8;\n      "),
      "nested":f("\n        var [e, {x:f, g}] = [9, {x:10}];\n        var {h, x:[i]} = {h:11, x:[12]};\n        return e === 9 && f === 10 && g === undefined\n          && h === 11 && i === 12;\n      "),
      "in parameters":f("\n        return (function({a, x:b, y:e}, [c, d]) {\n          return a === 1 && b === 2 && c === 3 &&\n            d === 4 && e === undefined;\n        }({a:1, x:2}, [3, 4]));\n      "),
      "in parameters, 'arguments' interaction":f("\n        return (function({a, x:b, y:e}, [c, d]) {\n          return arguments[0].a === 1 && arguments[0].x === 2\n            && !(\"y\" in arguments[0]) && arguments[1] + '' === \"3,4\";\n        }({a:1, x:2}, [3, 4]));\n      "),
      "in parameters, new Function() support":f("return new Function(\"{a, x:b, y:e}\",\"[c, d]\",\"return a === 1 && b === 2 && c === 3 && d === 4 && e === undefined;\")({a:1,x:2},[3,4])"),
      "in parameters, function 'length' property":f("\n        return function({a, b}, [c, d]){}.length === 2;\n      "),
      "in for-in loop heads":f("\n        for(var [i, j, k] in { qux: 1 }) {\n          return i === \"q\" && j === \"u\" && k === \"x\";\n        }\n      "),
      "in for-of loop heads":f("\n        for(var [i, j, k] of [[1,2,3]]) {\n          return i === 1 && j === 2 && k === 3;\n        }\n      "),
      "in catch heads":f("\n        try {\n          throw [1,2];\n        } catch([i,j]) {\n          try {\n            throw { k: 3, l: 4 };\n          } catch({k, l}) {\n            return i === 1 && j === 2 && k === 3 && l === 4;\n          }\n        }\n      "),
      "rest":f("\n        var [a, ...b] = [3, 4, 5];\n        var [c, ...d] = [6];\n        return a === 3 && b instanceof Array && (b + \"\") === \"4,5\" &&\n           c === 6 && d instanceof Array && d.length === 0;\n      "),
      "nested rest":f("\n        var a = [1, 2, 3], first, last;\n        [first, ...[a[2], last]] = a;\n        return first === 1 && last === 3 && (a + \"\") === \"1,2,2\";\n      "),
      "empty patterns":f("return[]=[1,2],{}={a:1,b:2},!0"),
      "empty patterns in parameters":f("\n        return function ([],{}){\n          return arguments[0] + '' === \"3,4\" && arguments[1].x === \"foo\";\n        }([3,4],{x:\"foo\"});\n      "),
      "defaults":f("\n        var {a = 1, b = 0, z:c = 3} = {b:2, z:undefined};\n        var [d = 0, e = 5, f = 6] = [4,,undefined];\n        return a === 1 && b === 2 && c === 3\n          && d === 4 && e === 5 && f === 6;\n      "),
      "defaults in parameters":f("\n        return (function({a = 1, b = 0, c = 3, x:d = 0, y:e = 5},\n            [f = 6, g = 0, h = 8]) {\n          return a === 1 && b === 2 && c === 3 && d === 4 &&\n            e === 5 && f === 6 && g === 7 && h === 8;\n        }({b:2, c:undefined, x:4},[, 7, undefined]));\n      "),
      "defaults, let temporal dead zone":f("\n        var {a, b = 2} = {a:1};\n        try {\n          eval(\"let {c = c} = {};\");\n          return false;\n        } catch(e){}\n        try {\n          eval(\"let {c = d, d} = {d:1};\");\n          return false;\n        } catch(e){}\n        return a === 1 && b === 2;\n      "),
      "defaults in parameters, separate scope":f("\n        return (function({a=function(){\n          return typeof b === 'undefined';\n        }}){\n          var b = 1;\n          return a();\n        }({}));\n      "),
      "defaults in parameters, new Function() support":f("return new Function(\"{a = 1, b = 0, c = 3, x:d = 0, y:e = 5}\",\"return a === 1 && b === 2 && c === 3 && d === 4 && e === 5;\")({b:2,c:void 0,x:4})")
    },
    "Unicode code point escapes": { // test
      "in strings":f("\n        return '\\u{1d306}' == '\\ud834\\udf06';\n      "),
      "in identifiers":f("\n        var \\u{102C0} = { \\u{102C0} : 2 };\n        return \\u{102C0}['\\ud800\\udec0'] === 2;\n      ")
    },
    "new.target": { // test
      "in constructors":f("\n        var passed = false;\n        new function f() {\n          passed = (new.target === f);\n        }();\n        (function() {\n          passed &= (new.target === undefined);\n        }());\n        return passed;\n      "),
      "assignment is an early error":f("\n        var passed = false;\n        new function f() {\n          passed = (new.target === f);\n        }();\n\n        try {\n          Function(\"new.target = function(){};\");\n        } catch(e) {\n          return passed;\n        }\n      ")
    },
    "const": { // test
      "basic support":f("return!0"),
      "is block-scoped":f("return!1"),
      "redefining a const is an error":f("try{Function(\"const foo = 1; foo = 2;\")()}catch(o){return!0}"),
      "temporal dead zone":f("function n(){i&=!0}var i=void 0;return n(),i"),
      "basic support (strict mode)":f("\"use strict\";return!0"),
      "is block-scoped (strict mode)":f("\"use strict\";return!1"),
      "redefining a const (strict mode)":f("\"use strict\";try{Function(\"'use strict'; const foo = 1; foo = 2;\")()}catch(t){return!0}"),
      "temporal dead zone (strict mode)":f("\"use strict\";function n(){t&=!0}var t=void 0;return n(),t")
    },
    "let": { // test
      "basic support":f("\n        let foo = 123;\n        return (foo === 123);\n      "),
      "is block-scoped":f("\n        let bar = 123;\n        { let bar = 456; }\n        return bar === 123;\n      "),
      "for-loop statement scope":f("\n        let baz = 1;\n        for(let baz = 0; false; false) {}\n        return baz === 1;\n      "),
      "temporal dead zone":f("\n        var passed = (function(){ try {  qux; } catch(e) { return true; }}());\n        function fn() { passed &= qux === 456; }\n        let qux = 456;\n        fn();\n        return passed;\n      "),
      "for-loop iteration scope":f("\n        let scopes = [];\n        for(let i = 0; i < 2; i++) {\n          scopes.push(function(){ return i; });\n        }\n        let passed = (scopes[0]() === 0 && scopes[1]() === 1);\n\n        scopes = [];\n        for(let i in { a:1, b:1 }) {\n          scopes.push(function(){ return i; });\n        }\n        passed &= (scopes[0]() === \"a\" && scopes[1]() === \"b\");\n        return passed;\n      "),
      "basic support (strict mode)":f("\n        'use strict';\n        let foo = 123;\n        return (foo === 123);\n      "),
      "is block-scoped (strict mode)":f("\n        'use strict';\n        let bar = 123;\n        { let bar = 456; }\n        return bar === 123;\n      "),
      "for-loop statement scope (strict mode)":f("\n        'use strict';\n        let baz = 1;\n        for(let baz = 0; false; false) {}\n        return baz === 1;\n      "),
      "temporal dead zone (strict mode)":f("\n        'use strict';\n        var passed = (function(){ try {  qux; } catch(e) { return true; }}());\n        function fn() { passed &= qux === 456; }\n        let qux = 456;\n        fn();\n        return passed;\n      "),
      "for-loop iteration scope (strict mode)":f("\n        'use strict';\n        let scopes = [];\n        for(let i = 0; i < 2; i++) {\n          scopes.push(function(){ return i; });\n        }\n        let passed = (scopes[0]() === 0 && scopes[1]() === 1);\n\n        scopes = [];\n        for(let i in { a:1, b:1 }) {\n          scopes.push(function(){ return i; });\n        }\n        passed &= (scopes[0]() === \"a\" && scopes[1]() === \"b\");\n        return passed;\n      ")
    },
      "block-level function declaration":f("\"use strict\";function n(){return 1}function n(){return 2}return 1===n()"),
    "arrow functions": { // test
      "0 parameters":f("\n        return (() => 5)() === 5;\n      "),
      "1 parameter, no brackets":f("\n        var b = x => x + \"foo\";\n        return (b(\"fee fie foe \") === \"fee fie foe foo\");\n      "),
      "multiple parameters":f("\n        var c = (v, w, x, y, z) => \"\" + v + w + x + y + z;\n        return (c(6, 5, 4, 3, 2) === \"65432\");\n      "),
      "lexical \"this\" binding":f("\n        var d = { x : \"bar\", y : function() { return z => this.x + z; }}.y();\n        var e = { x : \"baz\", y : d };\n        return d(\"ley\") === \"barley\" && e.y(\"ley\") === \"barley\";\n      "),
      "\"this\" unchanged by call or apply":f("\n        var d = { x : \"foo\", y : function() { return () => this.x; }};\n        var e = { x : \"bar\" };\n        return d.y().call(e) === \"foo\" && d.y().apply(e) === \"foo\";\n      "),
      "can't be bound, can be curried":f("\n        var d = { x : \"bar\", y : function() { return z => this.x + z; }};\n        var e = { x : \"baz\" };\n        return d.y().bind(e, \"ley\")() === \"barley\";\n      "),
      "lexical \"arguments\" binding":f("\n        var f = (function() { return z => arguments[0]; }(5));\n        return f(6) === 5;\n      "),
      "no line break between params and <code>=></code>":f("\n        return (() => {\n          try { Function(\"x\\n => 2\")(); } catch(e) { return true; }\n        })();\n      "),
      "correct precedence":f("\n        return (() => {\n          try { Function(\"0 || () => 2\")(); } catch(e) { return true; }\n        })();\n      "),
      "no \"prototype\" property":f("\n        var a = () => 5;\n        return !a.hasOwnProperty(\"prototype\");\n      "),
      "lexical \"super\" binding in constructors":f("\n        var received;\n\n        class B {\n          constructor (arg) {\n            received = arg;\n          }\n        }\n        class C extends B {\n          constructor () {\n            var callSuper = () => super('foo');\n            callSuper();\n          }\n        }\n        return new C instanceof C && received === 'foo'\n      "),
      "lexical \"super\" binding in methods":f("\n        class B {\n          qux() {\n            return \"quux\";\n          }\n        }\n        class C extends B {\n          baz() {\n            return x => super.qux();\n          }\n        }\n        var arrow = new C().baz();\n        return arrow() === \"quux\";\n      "),
      "lexical \"new.target\" binding":f("\n        function C() {\n          return x => new.target;\n        }\n        return new C()() === C && C()() === undefined;\n      ")
    },
    "class": { // test
      "class statement":f("\n        class C {}\n        return typeof C === \"function\";\n      "),
      "is block-scoped":f("\n        class C {}\n        var c1 = C;\n        {\n          class C {}\n          var c2 = C;\n        }\n        return C === c1;\n      "),
      "class expression":f("\n        return typeof class C {} === \"function\";\n      "),
      "anonymous class":f("\n        return typeof class {} === \"function\";\n      "),
      "constructor":f("\n        class C {\n          constructor() { this.x = 1; }\n        }\n        return C.prototype.constructor === C\n          && new C().x === 1;\n      "),
      "prototype methods":f("\n        class C {\n          method() { return 2; }\n        }\n        return typeof C.prototype.method === \"function\"\n          && new C().method() === 2;\n      "),
      "string-keyed methods":f("\n        class C {\n          \"foo bar\"() { return 2; }\n        }\n        return typeof C.prototype[\"foo bar\"] === \"function\"\n          && new C()[\"foo bar\"]() === 2;\n      "),
      "computed prototype methods":f("\n        var foo = \"method\";\n        class C {\n          [foo]() { return 2; }\n        }\n        return typeof C.prototype.method === \"function\"\n          && new C().method() === 2;\n      "),
      "static methods":f("\n        class C {\n          static method() { return 3; }\n        }\n        return typeof C.method === \"function\"\n          && C.method() === 3;\n      "),
      "computed static methods":f("\n        var foo = \"method\";\n        class C {\n          static [foo]() { return 3; }\n        }\n        return typeof C.method === \"function\"\n          && C.method() === 3;\n      "),
      "accessor properties":f("\n        var baz = false;\n        class C {\n          get foo() { return \"foo\"; }\n          set bar(x) { baz = x; }\n        }\n        new C().bar = true;\n        return new C().foo === \"foo\" && baz;\n      "),
      "computed accessor properties":f("\n        var garply = \"foo\", grault = \"bar\", baz = false;\n        class C {\n          get [garply]() { return \"foo\"; }\n          set [grault](x) { baz = x; }\n        }\n        new C().bar = true;\n        return new C().foo === \"foo\" && baz;\n      "),
      "static accessor properties":f("\n        var baz = false;\n        class C {\n          static get foo() { return \"foo\"; }\n          static set bar(x) { baz = x; }\n        }\n        C.bar = true;\n        return C.foo === \"foo\" && baz;\n      "),
      "computed static accessor properties":f("\n        var garply = \"foo\", grault = \"bar\", baz = false;\n        class C {\n          static get [garply]() { return \"foo\"; }\n          static set [grault](x) { baz = x; }\n        }\n        C.bar = true;\n        return C.foo === \"foo\" && baz;\n      "),
      "class name is lexically scoped":f("\n        class C {\n          method() { return typeof C === \"function\"; }\n        }\n        var M = C.prototype.method;\n        C = undefined;\n        return C === undefined && M();\n      "),
      "computed names, temporal dead zone":f("\n        try {\n          var B = class C {\n            [C](){}\n          }\n        } catch(e) {\n          return true;\n        }\n      "),
      "methods aren't enumerable":f("\n        class C {\n          foo() {}\n          static bar() {}\n        }\n        return !C.prototype.propertyIsEnumerable(\"foo\") && !C.propertyIsEnumerable(\"bar\");\n      "),
      "implicit strict mode":f("\n        class C {\n          static method() { return this === undefined; }\n        }\n        return (0,C.method)();\n      "),
      "constructor requires new":f("\n        class C {}\n        try {\n          C();\n        }\n        catch(e) {\n          return true;\n        }\n      "),
      "extends":f("\n        class B {}\n        class C extends B {}\n        return new C() instanceof B\n          && B.isPrototypeOf(C);\n      "),
      "extends expressions":f("\n        var B;\n        class C extends (B = class {}) {}\n        return new C() instanceof B\n          && B.isPrototypeOf(C);\n      "),
      "extends null":f("\n        class C extends null {\n          constructor() { return Object.create(null); }\n        }\n        return Function.prototype.isPrototypeOf(C)\n          && Object.getPrototypeOf(C.prototype) === null;\n      "),
      "new.target":f("\n        var passed = false;\n        new function f() {\n          passed = new.target === f;\n        }();\n\n        class A {\n          constructor() {\n            passed &= new.target === B;\n          }\n        }\n        class B extends A {}\n        new B();\n        return passed;\n      ")
    },
    "super": { // test
      "statement in constructors":f("\n        var passed = false;\n        class B {\n          constructor(a) { passed = (a === \"barbaz\"); }\n        }\n        class C extends B {\n          constructor(a) { super(\"bar\" + a); }\n        }\n        new C(\"baz\");\n        return passed;\n      "),
      "expression in constructors":f("\n        class B {\n          constructor(a) { return [\"foo\" + a]; }\n        }\n        class C extends B {\n          constructor(a) { return super(\"bar\" + a); }\n        }\n        return new C(\"baz\")[0] === \"foobarbaz\";\n      "),
      "in methods, property access":f("\n        class B {}\n        B.prototype.qux = \"foo\";\n        B.prototype.corge = \"baz\";\n        class C extends B {\n          quux(a) { return super.qux + a + super[\"corge\"]; }\n        }\n        C.prototype.qux = \"garply\";\n        return new C().quux(\"bar\") === \"foobarbaz\";\n      "),
      "in methods, method calls":f("\n        class B {\n          qux(a) { return \"foo\" + a; }\n        }\n        class C extends B {\n          qux(a) { return super.qux(\"bar\" + a); }\n        }\n        return new C().qux(\"baz\") === \"foobarbaz\";\n      "),
      "method calls use correct \"this\" binding":f("\n        class B {\n          qux(a) { return this.foo + a; }\n        }\n        class C extends B {\n          qux(a) { return super.qux(\"bar\" + a); }\n        }\n        var obj = new C();\n        obj.foo = \"foo\";\n        return obj.qux(\"baz\") === \"foobarbaz\";\n      "),
      "constructor calls use correct \"new.target\" binding":f("\n        var passed;\n        class B {\n          constructor() { passed = (new.target === C); }\n        }\n        class C extends B {\n          constructor() { super(); }\n        }\n        new C();\n        return passed;\n      "),
      "is statically bound":f("\n        class B {\n          qux() { return \"bar\"; }\n        }\n        class C extends B {\n          qux() { return super.qux() + this.corge; }\n        }\n        var obj = {\n          qux: C.prototype.qux,\n          corge: \"ley\"\n        };\n        return obj.qux() === \"barley\";\n      "),
      "super() invokes the correct constructor":f("\n        // checks that super() is *not* a synonym of super.constructor()\n        var passed;\n        class B {\n            constructor() {\n                passed = true;\n            }\n        };\n        B.prototype.constructor = function () {\n            passed = false;\n        };\n        class C extends B { };\n        new C;\n        return passed;\n      ")
    },
    "generators": { // test
      "basic functionality":f("\n        function * generator(){\n          yield 5; yield 6;\n        };\n        var iterator = generator();\n        var item = iterator.next();\n        var passed = item.value === 5 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === 6 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === undefined && item.done === true;\n        return passed;\n      "),
      "generator function expressions":f("\n        var generator = function * (){\n          yield 5; yield 6;\n        };\n        var iterator = generator();\n        var item = iterator.next();\n        var passed = item.value === 5 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === 6 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === undefined && item.done === true;\n        return passed;\n      "),
      "correct \"this\" binding":f("\n        function * generator(){\n          yield this.x; yield this.y;\n        };\n        var iterator = { g: generator, x: 5, y: 6 }.g();\n        var item = iterator.next();\n        var passed = item.value === 5 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === 6 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === undefined && item.done === true;\n        return passed;\n      "),
      "can't use \"this\" with new":f("\n        function * generator(){\n          yield this.x; yield this.y;\n        };\n        try {\n          (new generator()).next();\n        }\n        catch (e) {\n          return true;\n        }\n      "),
      "sending":f("\n        var sent;\n        function * generator(){\n          sent = [yield 5, yield 6];\n        };\n        var iterator = generator();\n        iterator.next();\n        iterator.next(\"foo\");\n        iterator.next(\"bar\");\n        return sent[0] === \"foo\" && sent[1] === \"bar\";\n      "),
      "%GeneratorPrototype%":f("\n        function * generatorFn(){}\n        var ownProto = Object.getPrototypeOf(generatorFn());\n        var passed = ownProto === generatorFn.prototype;\n\n        var sharedProto = Object.getPrototypeOf(ownProto);\n        passed &= sharedProto !== Object.prototype &&\n          sharedProto === Object.getPrototypeOf(function*(){}.prototype) &&\n          sharedProto.hasOwnProperty('next');\n\n        return passed;\n      "),
      "%GeneratorPrototype%.constructor":f("\n        function * g (){}\n        var iterator = new g.constructor(\"a\",\"b\",\"c\",\"yield a; yield b; yield c;\")(5,6,7);\n        var item = iterator.next();\n        var passed = item.value === 5 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === 6 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === 7 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === undefined && item.done === true;\n        return passed;\n      "),
      "%GeneratorPrototype%.throw":f("\n        var passed = false;\n        function * generator(){\n          try {\n            yield 5; yield 6;\n          } catch(e) {\n            passed = (e === \"foo\");\n          }\n        };\n        var iterator = generator();\n        iterator.next();\n        iterator.throw(\"foo\");\n        return passed;\n      "),
      "%GeneratorPrototype%.return":f("\n        function * generator(){\n          yield 5; yield 6;\n        };\n        var iterator = generator();\n        var item = iterator.next();\n        var passed = item.value === 5 && item.done === false;\n        item = iterator.return(\"quxquux\");\n        passed    &= item.value === \"quxquux\" && item.done === true;\n        item = iterator.next();\n        passed    &= item.value === undefined && item.done === true;\n        return passed;\n      "),
      "yield operator precedence":f("\n        var passed;\n        function * generator(){\n          passed = yield 0 ? true : false;\n        };\n        var iterator = generator();\n        iterator.next();\n        iterator.next(true);\n        return passed;\n      "),
      "yield *, arrays":f("\n        var iterator = (function * generator() {\n          yield * [5, 6];\n        }());\n        var item = iterator.next();\n        var passed = item.value === 5 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === 6 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === undefined && item.done === true;\n        return passed;\n      "),
      "yield *, sparse arrays":f("\n        var iterator = (function * generator() {\n          yield * [,,];\n        }());\n        var item = iterator.next();\n        var passed = item.value === undefined && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === undefined && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === undefined && item.done === true;\n        return passed;\n      "),
      "yield *, strings":f("\n        var iterator = (function * generator() {\n          yield * \"56\";\n        }());\n        var item = iterator.next();\n        var passed = item.value === \"5\" && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === \"6\" && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === undefined && item.done === true;\n        return passed;\n      "),
      "yield *, astral plane strings":f("\n        var iterator = (function * generator() {\n          yield * \"†Æ∑†Æ∂\";\n        }());\n        var item = iterator.next();\n        var passed = item.value === \"†Æ∑\" && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === \"†Æ∂\" && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === undefined && item.done === true;\n        return passed;\n      "),
      "yield *, generator instances":f("\n        var iterator = (function * generator() {\n          yield * (function*(){ yield 5; yield 6; yield 7; }());\n        }());\n        var item = iterator.next();\n        var passed = item.value === 5 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === 6 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === 7 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === undefined && item.done === true;\n        return passed;\n      "),
      "yield *, generic iterables":f("\n        var iterator = (function * generator() {\n          yield * global.__createIterableObject([5, 6, 7]);\n        }());\n        var item = iterator.next();\n        var passed = item.value === 5 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === 6 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === 7 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === undefined && item.done === true;\n        return passed;\n      "),
      "yield *, instances of iterables":f("\n        var iterator = (function * generator() {\n          yield * Object.create(__createIterableObject([5, 6, 7]));\n        }());\n        var item = iterator.next();\n        var passed = item.value === 5 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === 6 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === 7 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === undefined && item.done === true;\n        return passed;\n      "),
      "yield * on non-iterables is a runtime error":f("\n        var iterator = (function * generator() {\n          yield * [5];\n        }());\n        var item = iterator.next();\n        var passed = item.value === 5 && item.done === false;\n        iterator = (function * generator() {\n          yield * 5;\n        }());\n        try {\n          iterator.next();\n        } catch (e) {\n          return passed;\n        }\n      "),
      "yield *, iterator closing":f("\n        var closed = '';\n        var iter = __createIterableObject([1, 2, 3], {\n          'return': function(){\n            closed += 'a';\n            return {done: true};\n          }\n        });\n        var gen = (function* generator(){\n          try {\n            yield *iter;\n          } finally {\n            closed += 'b';\n          }\n        })();\n        gen.next();\n        gen['return']();\n        return closed === 'ab';\n      "),
      "yield *, iterator closing via throw()":f("\n        var closed = false;\n        var iter = global.__createIterableObject([1, 2, 3], {\n          'throw': undefined,\n          'return': function() {\n            closed = true;\n            return {done: true};\n          }\n        });\n        var gen = (function*(){\n          try {\n            yield *iter;\n          } catch(e){}\n        })();\n        gen.next();\n        gen['throw']();\n        return closed;\n      "),
      "shorthand generator methods":f("\n        var o = {\n          * generator() {\n            yield 5; yield 6;\n          },\n        };\n        var iterator = o.generator();\n        var item = iterator.next();\n        var passed = item.value === 5 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === 6 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === undefined && item.done === true;\n        return passed;\n      "),
      "string-keyed shorthand generator methods":f("\n        var o = {\n          * \"foo bar\"() {\n            yield 5; yield 6;\n          },\n        };\n        var iterator = o[\"foo bar\"]();\n        var item = iterator.next();\n        var passed = item.value === 5 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === 6 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === undefined && item.done === true;\n        return passed;\n      "),
      "computed shorthand generators":f("\n        var garply = \"generator\";\n        var o = {\n          * [garply] () {\n            yield 5; yield 6;\n          },\n        };\n        var iterator = o.generator();\n        var item = iterator.next();\n        var passed = item.value === 5 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === 6 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === undefined && item.done === true;\n        return passed;\n      "),
      "shorthand generator methods, classes":f("\n        class C {\n          * generator() {\n            yield 5; yield 6;\n          }\n        };\n        var iterator = new C().generator();\n        var item = iterator.next();\n        var passed = item.value === 5 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === 6 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === undefined && item.done === true;\n        return passed;\n      "),
      "computed shorthand generators, classes":f("\n        var garply = \"generator\";\n        class C {\n          * [garply] () {\n            yield 5; yield 6;\n          }\n        }\n        var iterator = new C().generator();\n        var item = iterator.next();\n        var passed = item.value === 5 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === 6 && item.done === false;\n        item = iterator.next();\n        passed    &= item.value === undefined && item.done === true;\n        return passed;\n      ")
    },
    "typed arrays": { // test
      "Int8Array":f("var r=new ArrayBuffer(64),n=new Int8Array(r);return n[0]=128,-128===n[0]"),
      "Uint8Array":f("var r=new ArrayBuffer(64),n=new Uint8Array(r);return n[0]=256,0===n[0]"),
      "Uint8ClampedArray":f("var r=new ArrayBuffer(64),n=new Uint8ClampedArray(r);return n[0]=256,255===n[0]"),
      "Int16Array":f("var r=new ArrayBuffer(64),n=new Int16Array(r);return n[0]=32768,-32768===n[0]"),
      "Uint16Array":f("var r=new ArrayBuffer(64),n=new Uint16Array(r);return n[0]=65536,0===n[0]"),
      "Int32Array":f("var r=new ArrayBuffer(64),n=new Int32Array(r);return n[0]=2147483648,-2147483648===n[0]"),
      "Uint32Array":f("var r=new ArrayBuffer(64),n=new Uint32Array(r);return n[0]=4294967296,0===n[0]"),
      "Float32Array":f("var r=new ArrayBuffer(64),n=new Float32Array(r);return n[0]=.1,.10000000149011612===n[0]"),
      "Float64Array":f("var r=new ArrayBuffer(64),n=new Float64Array(r);return n[0]=.1,.1===n[0]"),
      "DataView (Int8)":f("var e=new ArrayBuffer(64),n=new DataView(e);return n.setInt8(0,128),-128===n.getInt8(0)"),
      "DataView (Uint8)":f("var e=new ArrayBuffer(64),n=new DataView(e);return n.setUint8(0,256),0===n.getUint8(0)"),
      "DataView (Int16)":f("var e=new ArrayBuffer(64),n=new DataView(e);return n.setInt16(0,32768),-32768===n.getInt16(0)"),
      "DataView (Uint16)":f("var e=new ArrayBuffer(64),n=new DataView(e);return n.setUint16(0,65536),0===n.getUint16(0)"),
      "DataView (Int32)":f("var e=new ArrayBuffer(64),n=new DataView(e);return n.setInt32(0,2147483648),-2147483648===n.getInt32(0)"),
      "DataView (Uint32)":f("var e=new ArrayBuffer(64),n=new DataView(e);return n.setUint32(0,4294967296),0===n.getUint32(0)"),
      "DataView (Float32)":f("var e=new ArrayBuffer(64),t=new DataView(e);return t.setFloat32(0,.1),.10000000149011612===t.getFloat32(0)"),
      "DataView (Float64)":f("var e=new ArrayBuffer(64),t=new DataView(e);return t.setFloat64(0,.1),.1===t.getFloat64(0)"),
      "ArrayBuffer[Symbol.species]":f("return\"function\"==typeof ArrayBuffer[Symbol.species]"),
      "constructors require new":f("var r=new ArrayBuffer(64),a=[\"ArrayBuffer\",\"DataView\",\"Int8Array\",\"Uint8Array\",\"Uint8ClampedArray\",\"Int16Array\",\"Uint16Array\",\"Int32Array\",\"Uint32Array\",\"Float32Array\",\"Float64Array\"];return a.every(function(a){try{return a in global&&global[a](\"ArrayBuffer\"===a?64:r),!1}catch(t){return!0}})"),
      "constructors accept generic iterables":f("for(var r=[\"Int8Array\",\"Uint8Array\",\"Uint8ClampedArray\",\"Int16Array\",\"Uint16Array\",\"Int32Array\",\"Uint32Array\",\"Float32Array\",\"Float64Array\"],a=0;a<r.length;a++){var t=new global[r[a]](__createIterableObject([1,2,3]));if(3!==t.length||1!==t[0]||2!==t[1]||3!==t[2])return!1}return!0"),
      "correct prototype chains":f("var t=[\"Int8Array\",\"Uint8Array\",\"Uint8ClampedArray\",\"Int16Array\",\"Uint16Array\",\"Int32Array\",\"Uint32Array\",\"Float32Array\",\"Float64Array\"],r=Object.getPrototypeOf(Int8Array),o=Object.getPrototypeOf(Int8Array.prototype);if(r===Function.prototype||o===Object.prototype)return!1;for(var e=0;e<t.length;e+=1)if(!(t[e]in global&&Object.getPrototypeOf(global[t[e]])===r&&Object.getPrototypeOf(global[t[e]].prototype)===o&&Object.getOwnPropertyNames(global[t[e]].prototype).sort()+\"\"==\"BYTES_PER_ELEMENT,constructor\"))return!1;return!0"),
      "%TypedArray%.from":f("return\"function\"==typeof Int8Array.from&&\"function\"==typeof Uint8Array.from&&\"function\"==typeof Uint8ClampedArray.from&&\"function\"==typeof Int16Array.from&&\"function\"==typeof Uint16Array.from&&\"function\"==typeof Int32Array.from&&\"function\"==typeof Uint32Array.from&&\"function\"==typeof Float32Array.from&&\"function\"==typeof Float64Array.from"),
      "%TypedArray%.of":f("return\"function\"==typeof Int8Array.of&&\"function\"==typeof Uint8Array.of&&\"function\"==typeof Uint8ClampedArray.of&&\"function\"==typeof Int16Array.of&&\"function\"==typeof Uint16Array.of&&\"function\"==typeof Int32Array.of&&\"function\"==typeof Uint32Array.of&&\"function\"==typeof Float32Array.of&&\"function\"==typeof Float64Array.of"),
      "%TypedArray%.prototype.subarray":f("return\"function\"==typeof Int8Array.prototype.subarray&&\"function\"==typeof Uint8Array.prototype.subarray&&\"function\"==typeof Uint8ClampedArray.prototype.subarray&&\"function\"==typeof Int16Array.prototype.subarray&&\"function\"==typeof Uint16Array.prototype.subarray&&\"function\"==typeof Int32Array.prototype.subarray&&\"function\"==typeof Uint32Array.prototype.subarray&&\"function\"==typeof Float32Array.prototype.subarray&&\"function\"==typeof Float64Array.prototype.subarray"),
      "%TypedArray%.prototype.join":f("return\"function\"==typeof Int8Array.prototype.join&&\"function\"==typeof Uint8Array.prototype.join&&\"function\"==typeof Uint8ClampedArray.prototype.join&&\"function\"==typeof Int16Array.prototype.join&&\"function\"==typeof Uint16Array.prototype.join&&\"function\"==typeof Int32Array.prototype.join&&\"function\"==typeof Uint32Array.prototype.join&&\"function\"==typeof Float32Array.prototype.join&&\"function\"==typeof Float64Array.prototype.join"),
      "%TypedArray%.prototype.indexOf":f("return\"function\"==typeof Int8Array.prototype.indexOf&&\"function\"==typeof Uint8Array.prototype.indexOf&&\"function\"==typeof Uint8ClampedArray.prototype.indexOf&&\"function\"==typeof Int16Array.prototype.indexOf&&\"function\"==typeof Uint16Array.prototype.indexOf&&\"function\"==typeof Int32Array.prototype.indexOf&&\"function\"==typeof Uint32Array.prototype.indexOf&&\"function\"==typeof Float32Array.prototype.indexOf&&\"function\"==typeof Float64Array.prototype.indexOf"),
      "%TypedArray%.prototype.lastIndexOf":f("return\"function\"==typeof Int8Array.prototype.lastIndexOf&&\"function\"==typeof Uint8Array.prototype.lastIndexOf&&\"function\"==typeof Uint8ClampedArray.prototype.lastIndexOf&&\"function\"==typeof Int16Array.prototype.lastIndexOf&&\"function\"==typeof Uint16Array.prototype.lastIndexOf&&\"function\"==typeof Int32Array.prototype.lastIndexOf&&\"function\"==typeof Uint32Array.prototype.lastIndexOf&&\"function\"==typeof Float32Array.prototype.lastIndexOf&&\"function\"==typeof Float64Array.prototype.lastIndexOf"),
      "%TypedArray%.prototype.slice":f("return\"function\"==typeof Int8Array.prototype.slice&&\"function\"==typeof Uint8Array.prototype.slice&&\"function\"==typeof Uint8ClampedArray.prototype.slice&&\"function\"==typeof Int16Array.prototype.slice&&\"function\"==typeof Uint16Array.prototype.slice&&\"function\"==typeof Int32Array.prototype.slice&&\"function\"==typeof Uint32Array.prototype.slice&&\"function\"==typeof Float32Array.prototype.slice&&\"function\"==typeof Float64Array.prototype.slice"),
      "%TypedArray%.prototype.every":f("return\"function\"==typeof Int8Array.prototype.every&&\"function\"==typeof Uint8Array.prototype.every&&\"function\"==typeof Uint8ClampedArray.prototype.every&&\"function\"==typeof Int16Array.prototype.every&&\"function\"==typeof Uint16Array.prototype.every&&\"function\"==typeof Int32Array.prototype.every&&\"function\"==typeof Uint32Array.prototype.every&&\"function\"==typeof Float32Array.prototype.every&&\"function\"==typeof Float64Array.prototype.every"),
      "%TypedArray%.prototype.filter":f("return\"function\"==typeof Int8Array.prototype.filter&&\"function\"==typeof Uint8Array.prototype.filter&&\"function\"==typeof Uint8ClampedArray.prototype.filter&&\"function\"==typeof Int16Array.prototype.filter&&\"function\"==typeof Uint16Array.prototype.filter&&\"function\"==typeof Int32Array.prototype.filter&&\"function\"==typeof Uint32Array.prototype.filter&&\"function\"==typeof Float32Array.prototype.filter&&\"function\"==typeof Float64Array.prototype.filter"),
      "%TypedArray%.prototype.forEach":f("return\"function\"==typeof Int8Array.prototype.forEach&&\"function\"==typeof Uint8Array.prototype.forEach&&\"function\"==typeof Uint8ClampedArray.prototype.forEach&&\"function\"==typeof Int16Array.prototype.forEach&&\"function\"==typeof Uint16Array.prototype.forEach&&\"function\"==typeof Int32Array.prototype.forEach&&\"function\"==typeof Uint32Array.prototype.forEach&&\"function\"==typeof Float32Array.prototype.forEach&&\"function\"==typeof Float64Array.prototype.forEach"),
      "%TypedArray%.prototype.map":f("return\"function\"==typeof Int8Array.prototype.map&&\"function\"==typeof Uint8Array.prototype.map&&\"function\"==typeof Uint8ClampedArray.prototype.map&&\"function\"==typeof Int16Array.prototype.map&&\"function\"==typeof Uint16Array.prototype.map&&\"function\"==typeof Int32Array.prototype.map&&\"function\"==typeof Uint32Array.prototype.map&&\"function\"==typeof Float32Array.prototype.map&&\"function\"==typeof Float64Array.prototype.map"),
      "%TypedArray%.prototype.reduce":f("return\"function\"==typeof Int8Array.prototype.reduce&&\"function\"==typeof Uint8Array.prototype.reduce&&\"function\"==typeof Uint8ClampedArray.prototype.reduce&&\"function\"==typeof Int16Array.prototype.reduce&&\"function\"==typeof Uint16Array.prototype.reduce&&\"function\"==typeof Int32Array.prototype.reduce&&\"function\"==typeof Uint32Array.prototype.reduce&&\"function\"==typeof Float32Array.prototype.reduce&&\"function\"==typeof Float64Array.prototype.reduce"),
      "%TypedArray%.prototype.reduceRight":f("return\"function\"==typeof Int8Array.prototype.reduceRight&&\"function\"==typeof Uint8Array.prototype.reduceRight&&\"function\"==typeof Uint8ClampedArray.prototype.reduceRight&&\"function\"==typeof Int16Array.prototype.reduceRight&&\"function\"==typeof Uint16Array.prototype.reduceRight&&\"function\"==typeof Int32Array.prototype.reduceRight&&\"function\"==typeof Uint32Array.prototype.reduceRight&&\"function\"==typeof Float32Array.prototype.reduceRight&&\"function\"==typeof Float64Array.prototype.reduceRight"),
      "%TypedArray%.prototype.reverse":f("return\"function\"==typeof Int8Array.prototype.reverse&&\"function\"==typeof Uint8Array.prototype.reverse&&\"function\"==typeof Uint8ClampedArray.prototype.reverse&&\"function\"==typeof Int16Array.prototype.reverse&&\"function\"==typeof Uint16Array.prototype.reverse&&\"function\"==typeof Int32Array.prototype.reverse&&\"function\"==typeof Uint32Array.prototype.reverse&&\"function\"==typeof Float32Array.prototype.reverse&&\"function\"==typeof Float64Array.prototype.reverse"),
      "%TypedArray%.prototype.some":f("return\"function\"==typeof Int8Array.prototype.some&&\"function\"==typeof Uint8Array.prototype.some&&\"function\"==typeof Uint8ClampedArray.prototype.some&&\"function\"==typeof Int16Array.prototype.some&&\"function\"==typeof Uint16Array.prototype.some&&\"function\"==typeof Int32Array.prototype.some&&\"function\"==typeof Uint32Array.prototype.some&&\"function\"==typeof Float32Array.prototype.some&&\"function\"==typeof Float64Array.prototype.some"),
      "%TypedArray%.prototype.sort":f("return\"function\"==typeof Int8Array.prototype.sort&&\"function\"==typeof Uint8Array.prototype.sort&&\"function\"==typeof Uint8ClampedArray.prototype.sort&&\"function\"==typeof Int16Array.prototype.sort&&\"function\"==typeof Uint16Array.prototype.sort&&\"function\"==typeof Int32Array.prototype.sort&&\"function\"==typeof Uint32Array.prototype.sort&&\"function\"==typeof Float32Array.prototype.sort&&\"function\"==typeof Float64Array.prototype.sort"),
      "%TypedArray%.prototype.copyWithin":f("return\"function\"==typeof Int8Array.prototype.copyWithin&&\"function\"==typeof Uint8Array.prototype.copyWithin&&\"function\"==typeof Uint8ClampedArray.prototype.copyWithin&&\"function\"==typeof Int16Array.prototype.copyWithin&&\"function\"==typeof Uint16Array.prototype.copyWithin&&\"function\"==typeof Int32Array.prototype.copyWithin&&\"function\"==typeof Uint32Array.prototype.copyWithin&&\"function\"==typeof Float32Array.prototype.copyWithin&&\"function\"==typeof Float64Array.prototype.copyWithin"),
      "%TypedArray%.prototype.find":f("return\"function\"==typeof Int8Array.prototype.find&&\"function\"==typeof Uint8Array.prototype.find&&\"function\"==typeof Uint8ClampedArray.prototype.find&&\"function\"==typeof Int16Array.prototype.find&&\"function\"==typeof Uint16Array.prototype.find&&\"function\"==typeof Int32Array.prototype.find&&\"function\"==typeof Uint32Array.prototype.find&&\"function\"==typeof Float32Array.prototype.find&&\"function\"==typeof Float64Array.prototype.find"),
      "%TypedArray%.prototype.findIndex":f("return\"function\"==typeof Int8Array.prototype.findIndex&&\"function\"==typeof Uint8Array.prototype.findIndex&&\"function\"==typeof Uint8ClampedArray.prototype.findIndex&&\"function\"==typeof Int16Array.prototype.findIndex&&\"function\"==typeof Uint16Array.prototype.findIndex&&\"function\"==typeof Int32Array.prototype.findIndex&&\"function\"==typeof Uint32Array.prototype.findIndex&&\"function\"==typeof Float32Array.prototype.findIndex&&\"function\"==typeof Float64Array.prototype.findIndex"),
      "%TypedArray%.prototype.fill":f("return\"function\"==typeof Int8Array.prototype.fill&&\"function\"==typeof Uint8Array.prototype.fill&&\"function\"==typeof Uint8ClampedArray.prototype.fill&&\"function\"==typeof Int16Array.prototype.fill&&\"function\"==typeof Uint16Array.prototype.fill&&\"function\"==typeof Int32Array.prototype.fill&&\"function\"==typeof Uint32Array.prototype.fill&&\"function\"==typeof Float32Array.prototype.fill&&\"function\"==typeof Float64Array.prototype.fill"),
      "%TypedArray%.prototype.keys":f("return\"function\"==typeof Int8Array.prototype.keys&&\"function\"==typeof Uint8Array.prototype.keys&&\"function\"==typeof Uint8ClampedArray.prototype.keys&&\"function\"==typeof Int16Array.prototype.keys&&\"function\"==typeof Uint16Array.prototype.keys&&\"function\"==typeof Int32Array.prototype.keys&&\"function\"==typeof Uint32Array.prototype.keys&&\"function\"==typeof Float32Array.prototype.keys&&\"function\"==typeof Float64Array.prototype.keys"),
      "%TypedArray%.prototype.values":f("return\"function\"==typeof Int8Array.prototype.values&&\"function\"==typeof Uint8Array.prototype.values&&\"function\"==typeof Uint8ClampedArray.prototype.values&&\"function\"==typeof Int16Array.prototype.values&&\"function\"==typeof Uint16Array.prototype.values&&\"function\"==typeof Int32Array.prototype.values&&\"function\"==typeof Uint32Array.prototype.values&&\"function\"==typeof Float32Array.prototype.values&&\"function\"==typeof Float64Array.prototype.values"),
      "%TypedArray%.prototype.entries":f("return\"function\"==typeof Int8Array.prototype.entries&&\"function\"==typeof Uint8Array.prototype.entries&&\"function\"==typeof Uint8ClampedArray.prototype.entries&&\"function\"==typeof Int16Array.prototype.entries&&\"function\"==typeof Uint16Array.prototype.entries&&\"function\"==typeof Int32Array.prototype.entries&&\"function\"==typeof Uint32Array.prototype.entries&&\"function\"==typeof Float32Array.prototype.entries&&\"function\"==typeof Float64Array.prototype.entries"),
      "%TypedArray%.prototype[Symbol.iterator]":f("return\"function\"==typeof Int8Array.prototype[Symbol.iterator]&&\"function\"==typeof Uint8Array.prototype[Symbol.iterator]&&\"function\"==typeof Uint8ClampedArray.prototype[Symbol.iterator]&&\"function\"==typeof Int16Array.prototype[Symbol.iterator]&&\"function\"==typeof Uint16Array.prototype[Symbol.iterator]&&\"function\"==typeof Int32Array.prototype[Symbol.iterator]&&\"function\"==typeof Uint32Array.prototype[Symbol.iterator]&&\"function\"==typeof Float32Array.prototype[Symbol.iterator]&&\"function\"==typeof Float64Array.prototype[Symbol.iterator]"),
      "%TypedArray%[Symbol.species]":f("return\"function\"==typeof Int8Array[Symbol.species]&&\"function\"==typeof Uint8Array[Symbol.species]&&\"function\"==typeof Uint8ClampedArray[Symbol.species]&&\"function\"==typeof Int16Array[Symbol.species]&&\"function\"==typeof Uint16Array[Symbol.species]&&\"function\"==typeof Int32Array[Symbol.species]&&\"function\"==typeof Uint32Array[Symbol.species]&&\"function\"==typeof Float32Array[Symbol.species]&&\"function\"==typeof Float64Array[Symbol.species]")
    },
    "Map": { // test
      "basic functionality":f("var e={},n=new Map;return n.set(e,123),n.has(e)&&123===n.get(e)"),
      "constructor arguments":f("var a={},e={},n=new Map([[a,123],[e,456]]);return n.has(a)&&123===n.get(a)&&n.has(e)&&456===n.get(e)"),
      "constructor requires new":f("new Map;try{return Map(),!1}catch(n){return!0}"),
      "constructor accepts null":f("return new Map(null),!0"),
      "constructor invokes set":f("var t=!1,p=Map.prototype.set;return Map.prototype.set=function(p,e){t=!0},new Map([[1,2]]),Map.prototype.set=p,t"),
      "iterator closing":f("var r=!1,t=global.__createIterableObject([1,2,3],{\"return\":function(){return r=!0,{}}});try{new Map(t)}catch(e){}return r"),
      "Map.prototype.set returns this":f("var n=new Map;return n.set(0,0)===n"),
      "-0 key converts to +0":f("var o=new Map;o.set(-0,\"foo\");var n;return o.forEach(function(o,f){n=1/f}),n===1/0&&\"foo\"==o.get(0)"),
      "Map.prototype.size":f("var e={},n=new Map;return n.set(e,123),1===n.size"),
      "Map.prototype.delete":f("return\"function\"==typeof Map.prototype[\"delete\"]"),
      "Map.prototype.clear":f("return\"function\"==typeof Map.prototype.clear"),
      "Map.prototype.forEach":f("return\"function\"==typeof Map.prototype.forEach"),
      "Map.prototype.keys":f("return\"function\"==typeof Map.prototype.keys"),
      "Map.prototype.values":f("return\"function\"==typeof Map.prototype.values"),
      "Map.prototype.entries":f("return\"function\"==typeof Map.prototype.entries"),
      "Map.prototype[Symbol.iterator]":f("return\"function\"==typeof Map.prototype[Symbol.iterator]"),
      "Map iterator prototype chain":f("var t=(new Map)[Symbol.iterator](),r=Object.getPrototypeOf(t),o=Object.getPrototypeOf(r);return o.hasOwnProperty(Symbol.iterator)&&!r.hasOwnProperty(Symbol.iterator)&&!t.hasOwnProperty(Symbol.iterator)&&t[Symbol.iterator]()===t"),
      "Map[Symbol.species]":f("var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return\"get\"in e&&Map[Symbol.species]===Map")
    },
    "Set": { // test
      "basic functionality":f("var a=new Set;return a.add(123),a.add(123),a.has(123)"),
      "constructor arguments":f("var n={},a={},e=new Set([n,a]);return e.has(n)&&e.has(a)"),
      "constructor requires new":f("new Set;try{return Set(),!1}catch(t){return!0}"),
      "constructor accepts null":f("return new Set(null),!0"),
      "constructor invokes add":f("var t=!1,e=Set.prototype.add;return Set.prototype.add=function(e){t=!0},new Set([1]),Set.prototype.add=e,t"),
      "iterator closing":f("var t=!1,e=global.__createIterableObject([1,2,3],{\"return\":function(){return t=!0,{}}}),r=Set.prototype.add;Set.prototype.add=function(){throw 0};try{new Set(e)}catch(o){}return Set.prototype.add=r,t"),
      "Set.prototype.add returns this":f("var n=new Set;return n.add(0)===n"),
      "-0 key converts to +0":f("var n=new Set;n.add(-0);var a;return n.forEach(function(n){a=1/n}),a===1/0&&n.has(0)"),
      "Set.prototype.size":f("var d=new Set;return d.add(123),d.add(123),d.add(456),2===d.size"),
      "Set.prototype.delete":f("return\"function\"==typeof Set.prototype[\"delete\"]"),
      "Set.prototype.clear":f("return\"function\"==typeof Set.prototype.clear"),
      "Set.prototype.forEach":f("return\"function\"==typeof Set.prototype.forEach"),
      "Set.prototype.keys":f("return\"function\"==typeof Set.prototype.keys"),
      "Set.prototype.values":f("return\"function\"==typeof Set.prototype.values"),
      "Set.prototype.entries":f("return\"function\"==typeof Set.prototype.entries"),
      "Set.prototype[Symbol.iterator]":f("return\"function\"==typeof Set.prototype[Symbol.iterator]"),
      "Set iterator prototype chain":f("var t=(new Set)[Symbol.iterator](),r=Object.getPrototypeOf(t),o=Object.getPrototypeOf(r);return o.hasOwnProperty(Symbol.iterator)&&!r.hasOwnProperty(Symbol.iterator)&&!t.hasOwnProperty(Symbol.iterator)&&t[Symbol.iterator]()===t"),
      "Set[Symbol.species]":f("var e=Object.getOwnPropertyDescriptor(Set,Symbol.species);return\"get\"in e&&Set[Symbol.species]===Set")
    },
    "WeakMap": { // test
      "basic functionality":f("var e={},a=new WeakMap;return a.set(e,123),a.has(e)&&123===a.get(e)"),
      "constructor arguments":f("var a={},e={},n=new WeakMap([[a,123],[e,456]]);return n.has(a)&&123===n.get(a)&&n.has(e)&&456===n.get(e)"),
      "constructor requires new":f("new WeakMap;try{return WeakMap(),!1}catch(a){return!0}"),
      "constructor accepts null":f("return new WeakMap(null),!0"),
      "constructor invokes set":f("var e=!1,t=WeakMap.prototype.set;return WeakMap.prototype.set=function(t,p){e=!0},new WeakMap([[{},42]]),WeakMap.prototype.set=t,e"),
      "frozen objects as keys":f("var e=Object.freeze({}),t=new WeakMap;return t.set(e,42),42===t.get(e)"),
      "iterator closing":f("var e=!1,r=global.__createIterableObject([1,2,3],{\"return\":function(){return e=!0,{}}});try{new WeakMap(r)}catch(t){}return e"),
      "WeakMap.prototype.set returns this":f("var e=new WeakMap,n={};return e.set(n,0)===e"),
      "WeakMap.prototype.delete":f("return\"function\"==typeof WeakMap.prototype[\"delete\"]"),
      "no WeakMap.prototype.clear method":f("if(!(\"clear\"in WeakMap.prototype))return!0;var e=new WeakMap,a={};return e.set(a,2),e.clear(),e.has(a)")
    },
    "WeakSet": { // test
      "basic functionality":f("var a={},d=new WeakSet;return d.add(a),d.add(a),d.has(a)"),
      "constructor arguments":f("var a={},e={},n=new WeakSet([a,e]);return n.has(a)&&n.has(e)"),
      "constructor requires new":f("new WeakSet;try{return WeakSet(),!1}catch(e){return!0}"),
      "constructor accepts null":f("return new WeakSet(null),!0"),
      "constructor invokes add":f("var e=!1,t=WeakSet.prototype.add;return WeakSet.prototype.add=function(t){e=!0},new WeakSet([{}]),WeakSet.prototype.add=t,e"),
      "iterator closing":f("var e=!1,t=global.__createIterableObject([1,2,3],{\"return\":function(){return e=!0,{}}});try{new WeakSet(t)}catch(r){}return e"),
      "WeakSet.prototype.add returns this":f("var e=new WeakSet,n={};return e.add(n)===e"),
      "WeakSet.prototype.delete":f("return\"function\"==typeof WeakSet.prototype[\"delete\"]"),
      "no WeakSet.prototype.clear method":f("if(!(\"clear\"in WeakSet.prototype))return!0;var e=new WeakSet,r={};return e.add(r),e.clear(),e.has(r)")
    },
    "Proxy": { // test
      "constructor requires new":f("new Proxy({},{});try{return Proxy({},{}),!1}catch(r){return!0}"),
      "\"get\" handler":f("var n={},o=new Proxy(n,{get:function(r,t,e){return r===n&&\"foo\"===t&&e===o&&5}});return 5===o.foo"),
      "\"get\" handler, instances of proxies":f("var e={},n=Object.create(new Proxy(e,{get:function(o,r,t){return o===e&&\"foo\"===r&&t===n&&5}}));return 5===n.foo"),
      "\"set\" handler":f("var o={},n=!1,r=new Proxy(o,{set:function(f,t,a,e){n=f===o&&t+a===\"foobar\"&&e===r}});return r.foo=\"bar\",n"),
      "\"set\" handler, instances of proxies":f("var o={},r=!1,e=Object.create(new Proxy(o,{set:function(n,t,a,c){r=n===o&&t+a===\"foobar\"&&c===e}}));return e.foo=\"bar\",r"),
      "\"has\" handler":f("var n={},o=!1;return\"foo\"in new Proxy(n,{has:function(f,r){o=f===n&&\"foo\"===r}}),o"),
      "\"has\" handler, instances of proxies":f("var n={},o=!1;return\"foo\"in Object.create(new Proxy(n,{has:function(e,r){o=e===n&&\"foo\"===r}})),o"),
      "\"deleteProperty\" handler":f("var e={},o=!1;return delete new Proxy(e,{deleteProperty:function(n,r){o=n===e&&\"foo\"===r}}).foo,o"),
      "\"getOwnPropertyDescriptor\" handler":f("var e={},r={value:\"foo\",configurable:!0},o=Object.getOwnPropertyDescriptor(new Proxy(e,{getOwnPropertyDescriptor:function(o,n){return o===e&&\"foo\"===n&&r}}),\"foo\");return o.value===r.value&&o.configurable===r.configurable&&o.writable===!1&&o.enumerable===!1"),
      "\"defineProperty\" handler":f("var e={},r=!1;return Object.defineProperty(new Proxy(e,{defineProperty:function(n,o,f){return r=n===e&&\"foo\"===o&&5===f.value,!0}}),\"foo\",{value:5,configurable:!0}),r"),
      "\"getPrototypeOf\" handler":f("var t={},e={},r=new Proxy(t,{getPrototypeOf:function(r){return r===t&&e}});return Object.getPrototypeOf(r)===e"),
      "\"setPrototypeOf\" handler":f("var t={},e={},r=!1;return Object.setPrototypeOf(new Proxy(t,{setPrototypeOf:function(n,o){return r=n===t&&o===e,!0}}),e),r"),
      "\"isExtensible\" handler":f("var n={},e=!1;return Object.isExtensible(new Proxy(n,{isExtensible:function(t){return e=t===n,!0}})),e"),
      "\"preventExtensions\" handler":f("var n={},e=!1;return Object.preventExtensions(new Proxy(n,{preventExtensions:function(t){return e=t===n,Object.preventExtensions(n)}})),e"),
      "\"enumerate\" handler":f("var n={},r=!1;for(var e in new Proxy(n,{enumerate:function(e){return r=e===n,{next:function(){return{done:!0,value:null}}}}}));return r"),
      "\"ownKeys\" handler":f("var n={},e=!1;return Object.keys(new Proxy(n,{ownKeys:function(r){return e=r===n,[]}})),e"),
      "\"apply\" handler":f("var o=function(){},n=!1,r={method:new Proxy(o,{apply:function(t,f,a){n=t===o&&f===r&&a+\"\"==\"foo,bar\"}})};return r.method(\"foo\",\"bar\"),n"),
      "\"construct\" handler":f("var n=function(){},o=!1;return new new Proxy(n,{construct:function(r,t){return o=r===n&&t+\"\"==\"foo,bar\",{}}})(\"foo\",\"bar\"),o"),
      "Proxy.revocable":f("var r=Proxy.revocable({},{get:function(){return 5}}),o=5===r.proxy.foo;r.revoke();try{r.proxy.foo}catch(e){o&=e instanceof TypeError}return o"),
      "Array.isArray support":f("return Array.isArray(new Proxy([],{}))"),
      "JSON.stringify support":f("return'[\"foo\"]'===JSON.stringify(new Proxy([\"foo\"],{}))")
    },
    "Reflect": { // test
      "Reflect.get":f("return 987===Reflect.get({qux:987},\"qux\")"),
      "Reflect.set":f("var u={};return Reflect.set(u,\"quux\",654),654===u.quux"),
      "Reflect.has":f("return Reflect.has({qux:987},\"qux\")"),
      "Reflect.deleteProperty":f("var r={bar:456};return Reflect.deleteProperty(r,\"bar\"),!(\"bar\"in r)"),
      "Reflect.getOwnPropertyDescriptor":f("var e={baz:789},r=Reflect.getOwnPropertyDescriptor(e,\"baz\");return 789===r.value&&r.configurable&&r.writable&&r.enumerable"),
      "Reflect.defineProperty":f("var e={};return Reflect.defineProperty(e,\"foo\",{value:123}),123===e.foo&&Reflect.defineProperty(Object.freeze({}),\"foo\",{value:123})===!1"),
      "Reflect.getPrototypeOf":f("return Reflect.getPrototypeOf([])===Array.prototype"),
      "Reflect.setPrototypeOf":f("var r={};return Reflect.setPrototypeOf(r,Array.prototype),r instanceof Array"),
      "Reflect.isExtensible":f("return Reflect.isExtensible({})&&!Reflect.isExtensible(Object.preventExtensions({}))"),
      "Reflect.preventExtensions":f("var e={};return Reflect.preventExtensions(e),!Object.isExtensible(e)"),
      "Reflect.enumerate":f("var e={foo:1,bar:2},o=Reflect.enumerate(e),n=1;\"function\"==typeof Symbol&&\"iterator\"in Symbol&&(n&=Symbol.iterator in o);var t=o.next();return n&=\"foo\"===t.value&&t.done===!1,t=o.next(),n&=\"bar\"===t.value&&t.done===!1,t=o.next(),n&=void 0===t.value&&t.done===!0,1===n"),
      "Reflect.ownKeys, string keys":f("var e=Object.create({C:!0});return e.A=!0,Object.defineProperty(e,\"B\",{value:!0,enumerable:!1}),Reflect.ownKeys(e).sort()+\"\"==\"A,B\""),
      "Reflect.ownKeys, symbol keys":f("var e=Symbol(),n=Symbol(),r=Symbol(),t={};t[e]=!0;var l=Object.create(t);l[n]=!0,Object.defineProperty(l,r,{value:!0,enumerable:!1});var a=Reflect.ownKeys(l);return a.indexOf(n)>-1&&a.indexOf(r)>-1&&2===a.length"),
      "Reflect.apply":f("return 5===Reflect.apply(Array.prototype.push,[1,2],[3,4,5])"),
      "Reflect.construct":f("return\"foobarbaz\"===Reflect.construct(function(o,t,n){this.qux=o+t+n},[\"foo\",\"bar\",\"baz\"]).qux"),
      "Reflect.construct sets new.target meta property":f("\n        return Reflect.construct(function(a, b, c) {\n          if (new.target === Object) {\n            this.qux = a + b + c;\n          }\n        }, [\"foo\", \"bar\", \"baz\"], Object).qux === \"foobarbaz\";\n      "),
      "Reflect.construct creates instance from newTarget argument":f("function n(){}return Reflect.construct(function(){},[],n)instanceof n")
    },
    "Promise": { // test
      "basic functionality":f("function n(n){f+=\"foo\"===n,c()}function t(n){f+=\"quux\"===n,c()}function o(n){f=-(1/0)}function c(){4===f&&asyncTestPassed()}var u=new Promise(function(n,t){n(\"foo\")}),e=new Promise(function(n,t){t(\"quux\")}),f=0;u.then(n,o),e.then(o,t),u[\"catch\"](o),e[\"catch\"](t),u.then(function(){f+=u.then()!==u,c()})"),
      "constructor requires new":f("new Promise(function(){});try{return Promise(function(){}),!1}catch(n){return!0}"),
      "Promise.all":f("function n(){2===t&&asyncTestPassed()}var o=Promise.all([new Promise(function(n){setTimeout(n,200,\"foo\")}),new Promise(function(n){setTimeout(n,100,\"bar\")})]),e=Promise.all([new Promise(function(n,o){setTimeout(o,200,\"baz\")}),new Promise(function(n,o){setTimeout(o,100,\"qux\")})]),t=0;o.then(function(o){t+=o+\"\"==\"foo,bar\",n()}),e[\"catch\"](function(o){t+=\"qux\"===o,n()})"),
      "Promise.all, generic iterables":f("function e(){2===n&&asyncTestPassed()}var t=Promise.all(global.__createIterableObject([new Promise(function(e){setTimeout(e,200,\"foo\")}),new Promise(function(e){setTimeout(e,100,\"bar\")})])),o=Promise.all(global.__createIterableObject([new Promise(function(e,t){setTimeout(t,200,\"baz\")}),new Promise(function(e,t){setTimeout(t,100,\"qux\")})])),n=0;t.then(function(t){n+=t+\"\"==\"foo,bar\",e()}),o[\"catch\"](function(t){n+=\"qux\"===t,e()})"),
      "Promise.race":f("function e(){2===t&&asyncTestPassed()}var n=Promise.race([new Promise(function(e){setTimeout(e,200,\"foo\")}),new Promise(function(e,n){setTimeout(n,300,\"bar\")})]),o=Promise.race([new Promise(function(e,n){setTimeout(n,200,\"baz\")}),new Promise(function(e){setTimeout(e,300,\"qux\")})]),t=0;n.then(function(n){t+=\"foo\"===n,e()}),o[\"catch\"](function(n){t+=\"baz\"===n,e()})"),
      "Promise.race, generic iterables":f("function e(){2===n&&asyncTestPassed()}var t=Promise.race(global.__createIterableObject([new Promise(function(e){setTimeout(e,200,\"foo\")}),new Promise(function(e,t){setTimeout(t,300,\"bar\")})])),o=Promise.race(global.__createIterableObject([new Promise(function(e,t){setTimeout(t,200,\"baz\")}),new Promise(function(e){setTimeout(e,300,\"qux\")})])),n=0;t.then(function(t){n+=\"foo\"===t,e()}),o[\"catch\"](function(t){n+=\"baz\"===t,e()})"),
      "Promise[Symbol.species]":f("var e=Object.getOwnPropertyDescriptor(Promise,Symbol.species);return\"get\"in e&&Promise[Symbol.species]===Promise")
    },
    "Symbol": { // test
      "basic functionality":f("var n={},r=Symbol(),o={};return n[r]=o,n[r]===o"),
      "typeof support":f("return\"symbol\"==typeof Symbol()"),
      "symbol keys are hidden to pre-ES6 code":f("var e={},t=Symbol();e[t]=1;for(var r in e);var n=!r;return Object.keys&&Object.getOwnPropertyNames&&(n&=0===Object.keys(e).length&&0===Object.getOwnPropertyNames(e).length),n"),
      "Object.defineProperty support":f("var e={},r=Symbol(),t={};return Object.defineProperty?(Object.defineProperty(e,r,{value:t}),e[r]===t):passed"),
      "cannot coerce to string or number":f("Symbol();try{return!1}catch(r){}try{return!1}catch(r){}return!0"),
      "can convert with String()":f("return\"Symbol(foo)\"===String(Symbol(\"foo\"))"),
      "new Symbol() throws":f("Symbol();try{new Symbol}catch(n){return!0}"),
      "Object(symbol)":f("var e=Symbol(),o=Object(e);return\"object\"==typeof o&&o instanceof Symbol&&o==e&&o!==e&&o.valueOf()===e"),
      "JSON.stringify ignores symbols":f("var i={foo:Symbol()};i[Symbol()]=1;var o=[Symbol()];return\"{}\"===JSON.stringify(i)&&\"[null]\"===JSON.stringify(o)&&void 0===JSON.stringify(Symbol())"),
      "global symbol registry":f("var o=Symbol[\"for\"](\"foo\");return Symbol[\"for\"](\"foo\")===o&&\"foo\"===Symbol.keyFor(o)")
    },
    "well-known symbols": { // test
      "Symbol.hasInstance":f("var n=!1,e=function(){};return Object.defineProperty(e,Symbol.hasInstance,{value:function(e){return n=e.foo,!1}}),n"),
      "Symbol.isConcatSpreadable":f("var a=[],n=[];return n[Symbol.isConcatSpreadable]=!1,a=a.concat(n),a[0]===n"),
      "Symbol.iterator, existence":f("return\"iterator\"in Symbol"),
      "Symbol.iterator, arguments object":f("return function(){return\"function\"==typeof arguments[Symbol.iterator]&&Object.hasOwnProperty.call(arguments,Symbol.iterator)}()"),
      "Symbol.species, existence":f("return\"species\"in Symbol"),
      "Symbol.species, Array.prototype.concat":f("var o=[];return o.constructor={},o.constructor[Symbol.species]=function(){return{foo:1}},1===Array.prototype.concat.call(o,[]).foo"),
      "Symbol.species, Array.prototype.filter":f("var o=[];return o.constructor={},o.constructor[Symbol.species]=function(){return{foo:1}},1===Array.prototype.filter.call(o,Boolean).foo"),
      "Symbol.species, Array.prototype.map":f("var o=[];return o.constructor={},o.constructor[Symbol.species]=function(){return{foo:1}},1===Array.prototype.map.call(o,Boolean).foo"),
      "Symbol.species, Array.prototype.slice":f("var o=[];return o.constructor={},o.constructor[Symbol.species]=function(){return{foo:1}},1===Array.prototype.slice.call(o,0).foo"),
      "Symbol.species, Array.prototype.splice":f("var o=[];return o.constructor={},o.constructor[Symbol.species]=function(){return{foo:1}},1===Array.prototype.splice.call(o,0).foo"),
      "Symbol.species, RegExp.prototype[Symbol.split]":f("var t=!1,o={constructor:{}};return o[Symbol.split]=RegExp.prototype[Symbol.split],o.constructor[Symbol.species]=function(){return t=!0,/./},\"\".split(o),t"),
      "Symbol.replace":f("var r={};return r[Symbol.replace]=function(){return 42},42===\"\".replace(r)"),
      "Symbol.search":f("var r={};return r[Symbol.search]=function(){return 42},42===\"\".search(r)"),
      "Symbol.split":f("var n={};return n[Symbol.split]=function(){return 42},42===\"\".split(n)"),
      "Symbol.match":f("var n={};return n[Symbol.match]=function(){return 42},42===\"\".match(n)"),
      "Symbol.match, RegExp constructor":f("var r=/./;r[Symbol.match]=!1;var t={constructor:RegExp};return t[Symbol.match]=!0,RegExp(r)!==r&&RegExp(t)===t"),
      "Symbol.match, String.prototype.startsWith":f("var t=/./;try{\"/./\".startsWith(t)}catch(r){return t[Symbol.match]=!1,\"/./\".startsWith(t)}"),
      "Symbol.match, String.prototype.endsWith":f("var t=/./;try{\"/./\".endsWith(t)}catch(n){return t[Symbol.match]=!1,\"/./\".endsWith(t)}"),
      "Symbol.match, String.prototype.includes":f("var c=/./;try{\"/./\".includes(c)}catch(n){return c[Symbol.match]=!1,\"/./\".includes(c)}"),
      "Symbol.toPrimitive":f("var t={},i={},n={},r=0;return t[Symbol.toPrimitive]=function(t){return r+=\"number\"===t,0},i[Symbol.toPrimitive]=function(t){return r+=\"string\"===t,0},n[Symbol.toPrimitive]=function(t){return r+=\"default\"===t,0},3===r"),
      "Symbol.toStringTag":f("var o={};return o[Symbol.toStringTag]=\"foo\",o+\"\"==\"[object foo]\""),
      "Symbol.toStringTag, misc. built-ins":f("var t=Symbol.toStringTag;return\"Math\"===Math[t]&&\"JSON\"===JSON[t]"),
      "Symbol.unscopables":f("var a={foo:1,bar:2};with(a[Symbol.unscopables]={bar:!0},a)return 1===foo&&\"undefined\"==typeof bar")
    },
    "Object static methods": { // test
      "Object.assign":f("var n=Object.assign({a:!0},{b:!0},{c:!0});return\"a\"in n&&\"b\"in n&&\"c\"in n"),
      "Object.is":f("return\"function\"==typeof Object.is&&Object.is(NaN,NaN)&&!Object.is(-0,0)"),
      "Object.getOwnPropertySymbols":f("var o={},r=Symbol(),b=Symbol(),t=Symbol();o[r]=!0,o[b]=!0,o[t]=!0;var y=Object.getOwnPropertySymbols(o);return y[0]===r&&y[1]===b&&y[2]===t"),
      "Object.setPrototypeOf":f("return Object.setPrototypeOf({},Array.prototype)instanceof Array")
    },
    "function \"name\" property": { // test
      "function statements":f("function n(){}return\"foo\"===n.name&&\"\"===function(){}.name"),
      "function expressions":f("return\"foo\"===function(){}.name&&\"\"===function(){}.name"),
      "new Function":f("return\"anonymous\"===(new Function).name"),
      "bound functions":f("function n(){}return\"bound foo\"===n.bind({}).name&&\"bound \"===function(){}.bind({}).name"),
      "variables (function)":f("var n=function(){},o=function(){};return\"foo\"===n.name&&\"baz\"===o.name"),
      "object methods (function)":f("var n={foo:function(){},bar:function(){}};return n.qux=function(){},\"foo\"===n.foo.name&&\"baz\"===n.bar.name&&\"\"===n.qux.name"),
      "accessor properties":f("var t={get foo(){},set foo(t){}},e=Object.getOwnPropertyDescriptor(t,\"foo\");return\"get foo\"===e.get.name&&\"set foo\"===e.set.name"),
      "shorthand methods":f("\n        var o = { foo(){} };\n        return o.foo.name === \"foo\";\n      "),
      "shorthand methods (no lexical binding)":f("\n        var f = \"foo\";\n        return ({f() { return f; }}).f() === \"foo\";\n      "),
      "symbol-keyed methods":f("\n        var sym1 = Symbol(\"foo\");\n        var sym2 = Symbol();\n        var o = {\n          [sym1]: function(){},\n          [sym2]: function(){}\n        };\n\n        return o[sym1].name === \"[foo]\" &&\n               o[sym2].name === \"\";\n      "),
      "class statements":f("\n        class foo {};\n        class bar { static name() {} };\n        return foo.name === \"foo\" &&\n          typeof bar.name === \"function\";\n      "),
      "class expressions":f("\n        return class foo {}.name === \"foo\" &&\n          typeof class bar { static name() {} }.name === \"function\";\n      "),
      "variables (class)":f("\n        var foo = class {};\n        var bar = class baz {};\n        var qux = class { static name() {} };\n        return foo.name === \"foo\" &&\n               bar.name === \"baz\" &&\n               typeof qux.name === \"function\";\n      "),
      "object methods (class)":f("\n        var o = { foo: class {}, bar: class baz {}};\n        o.qux = class {};\n        return o.foo.name === \"foo\" &&\n               o.bar.name === \"baz\" &&\n               o.qux.name === \"\";\n      "),
      "class prototype methods":f("\n        class C { foo(){} };\n        return (new C).foo.name === \"foo\";\n      "),
      "class static methods":f("\n        class C { static foo(){} };\n        return C.foo.name === \"foo\";\n      "),
      "isn't writable, is configurable":f("var e=Object.getOwnPropertyDescriptor(function(){},\"name\");return e.enumerable===!1&&e.writable===!1&&e.configurable===!0")
    },
    "String static methods": { // test
      "String.raw":f("return\"function\"==typeof String.raw"),
      "String.fromCodePoint":f("return\"function\"==typeof String.fromCodePoint")
    },
    "String.prototype methods": { // test
      "String.prototype.codePointAt":f("return\"function\"==typeof String.prototype.codePointAt"),
      "String.prototype.normalize":f("return\"function\"==typeof String.prototype.normalize&&\"·∏â\"===\"cÃßÃÅ\".normalize(\"NFC\")&&\"cÃßÃÅ\"===\"·∏â\".normalize(\"NFD\")"),
      "String.prototype.repeat":f("return\"function\"==typeof String.prototype.repeat&&\"foofoofoo\"===\"foo\".repeat(3)"),
      "String.prototype.startsWith":f("return\"function\"==typeof String.prototype.startsWith&&\"foobar\".startsWith(\"foo\")"),
      "String.prototype.endsWith":f("return\"function\"==typeof String.prototype.endsWith&&\"foobar\".endsWith(\"bar\")"),
      "String.prototype.includes":f("return\"function\"==typeof String.prototype.includes&&\"foobar\".includes(\"oba\")"),
      "String.prototype[Symbol.iterator]":f("return\"function\"==typeof String.prototype[Symbol.iterator]"),
      "String iterator prototype chain":f("var t=\"\"[Symbol.iterator](),r=Object.getPrototypeOf(t),o=Object.getPrototypeOf(r);return o.hasOwnProperty(Symbol.iterator)&&!r.hasOwnProperty(Symbol.iterator)&&!t.hasOwnProperty(Symbol.iterator)&&t[Symbol.iterator]()===t")
    },
    "RegExp.prototype properties": { // test
      "RegExp.prototype.flags":f("return\"gim\"===/./gim.flags&&\"\"===/./.flags"),
      "RegExp.prototype[Symbol.match]":f("return\"function\"==typeof RegExp.prototype[Symbol.match]"),
      "RegExp.prototype[Symbol.replace]":f("return\"function\"==typeof RegExp.prototype[Symbol.replace]"),
      "RegExp.prototype[Symbol.split]":f("return\"function\"==typeof RegExp.prototype[Symbol.split]"),
      "RegExp.prototype[Symbol.search]":f("return\"function\"==typeof RegExp.prototype[Symbol.search]"),
      "RegExp[Symbol.species]":f("var e=Object.getOwnPropertyDescriptor(RegExp,Symbol.species);return\"get\"in e&&RegExp[Symbol.species]===RegExp")
    },
    "Array static methods": { // test
      "Array.from, array-like objects":f("return Array.from({0:\"foo\",1:\"bar\",length:2})+\"\"==\"foo,bar\""),
      "Array.from, generator instances":f("\n        var iterable = (function*(){ yield 1; yield 2; yield 3; }());\n        return Array.from(iterable) + '' === \"1,2,3\";\n      "),
      "Array.from, generic iterables":f("var r=global.__createIterableObject([1,2,3]);return Array.from(r)+\"\"==\"1,2,3\""),
      "Array.from, instances of generic iterables":f("var e=global.__createIterableObject([1,2,3]);return Array.from(Object.create(e))+\"\"==\"1,2,3\""),
      "Array.from map function, array-like objects":f("return Array.from({0:\"foo\",1:\"bar\",length:2},function(r,n){return r+this.baz+n},{baz:\"d\"})+\"\"==\"food0,bard1\""),
      "Array.from map function, generator instances":f("\n        var iterable = (function*(){ yield \"foo\"; yield \"bar\"; yield \"bal\"; }());\n        return Array.from(iterable, function(e, i) {\n          return e + this.baz + i;\n        }, { baz: \"d\" }) + '' === \"food0,bard1,bald2\";\n      "),
      "Array.from map function, generic iterables":f("var r=global.__createIterableObject([\"foo\",\"bar\",\"bal\"]);return Array.from(r,function(r,a){return r+this.baz+a},{baz:\"d\"})+\"\"==\"food0,bard1,bald2\""),
      "Array.from map function, instances of iterables":f("var r=global.__createIterableObject([\"foo\",\"bar\",\"bal\"]);return Array.from(Object.create(r),function(r,a){return r+this.baz+a},{baz:\"d\"})+\"\"==\"food0,bard1,bald2\""),
      "Array.from, iterator closing":f("var r=!1,t=global.__createIterableObject([1,2,3],{\"return\":function(){return r=!0,{}}});try{Array.from(t,function(){throw 42})}catch(n){}return r"),
      "Array.of":f("return\"function\"==typeof Array.of&&2===Array.of(2)[0]"),
      "Array[Symbol.species]":f("var r=Object.getOwnPropertyDescriptor(Array,Symbol.species);return\"get\"in r&&Array[Symbol.species]===Array")
    },
    "Array.prototype methods": { // test
      "Array.prototype.copyWithin":f("return\"function\"==typeof Array.prototype.copyWithin"),
      "Array.prototype.find":f("return\"function\"==typeof Array.prototype.find"),
      "Array.prototype.findIndex":f("return\"function\"==typeof Array.prototype.findIndex"),
      "Array.prototype.fill":f("return\"function\"==typeof Array.prototype.fill"),
      "Array.prototype.keys":f("return\"function\"==typeof Array.prototype.keys"),
      "Array.prototype.values":f("return\"function\"==typeof Array.prototype.values"),
      "Array.prototype.entries":f("return\"function\"==typeof Array.prototype.entries"),
      "Array.prototype[Symbol.iterator]":f("return\"function\"==typeof Array.prototype[Symbol.iterator]"),
      "Array iterator prototype chain":f("var t=[][Symbol.iterator](),r=Object.getPrototypeOf(t),o=Object.getPrototypeOf(r);return o.hasOwnProperty(Symbol.iterator)&&!r.hasOwnProperty(Symbol.iterator)&&!t.hasOwnProperty(Symbol.iterator)&&t[Symbol.iterator]()===t"),
      "Array.prototype[Symbol.unscopables]":f("var r=Array.prototype[Symbol.unscopables];if(!r)return!1;for(var e=\"find,findIndex,fill,copyWithin,entries,keys,values\".split(\",\"),n=0;n<e.length;n++)if(Array.prototype[e[n]]&&!r[e[n]])return!1;return!0")
    },
    "Number properties": { // test
      "Number.isFinite":f("return\"function\"==typeof Number.isFinite"),
      "Number.isInteger":f("return\"function\"==typeof Number.isInteger"),
      "Number.isSafeInteger":f("return\"function\"==typeof Number.isSafeInteger"),
      "Number.isNaN":f("return\"function\"==typeof Number.isNaN"),
      "Number.EPSILON":f("return\"number\"==typeof Number.EPSILON"),
      "Number.MIN_SAFE_INTEGER":f("return\"number\"==typeof Number.MIN_SAFE_INTEGER"),
      "Number.MAX_SAFE_INTEGER":f("return\"number\"==typeof Number.MAX_SAFE_INTEGER")
    },
    "Math methods": { // test
      "Math.clz32":f("return\"function\"==typeof Math.clz32"),
      "Math.imul":f("return\"function\"==typeof Math.imul"),
      "Math.sign":f("return\"function\"==typeof Math.sign"),
      "Math.log10":f("return\"function\"==typeof Math.log10"),
      "Math.log2":f("return\"function\"==typeof Math.log2"),
      "Math.log1p":f("return\"function\"==typeof Math.log1p"),
      "Math.expm1":f("return\"function\"==typeof Math.expm1"),
      "Math.cosh":f("return\"function\"==typeof Math.cosh"),
      "Math.sinh":f("return\"function\"==typeof Math.sinh"),
      "Math.tanh":f("return\"function\"==typeof Math.tanh"),
      "Math.acosh":f("return\"function\"==typeof Math.acosh"),
      "Math.asinh":f("return\"function\"==typeof Math.asinh"),
      "Math.atanh":f("return\"function\"==typeof Math.atanh"),
      "Math.trunc":f("return\"function\"==typeof Math.trunc"),
      "Math.fround":f("return\"function\"==typeof Math.fround"),
      "Math.cbrt":f("return\"function\"==typeof Math.cbrt"),
      "Math.hypot":f("return 0===Math.hypot()&&1===Math.hypot(1)&&25===Math.hypot(9,12,20)&&125===Math.hypot(27,36,60,100)")
    },
    "Array is subclassable": { // test
      "length property (accessing)":f("\n        class C extends Array {}\n        var c = new C();\n        var len1 = c.length;\n        c[2] = 'foo';\n        var len2 = c.length;\n        return len1 === 0 && len2 === 3;\n      "),
      "length property (setting)":f("\n        class C extends Array {}\n        var c = new C();\n        c[2] = 'foo';\n        c.length = 1;\n        return c.length === 1 && !(2 in c);\n      "),
      "correct prototype chain":f("\n        class C extends Array {}\n        var c = new C();\n        return c instanceof C && c instanceof Array && Object.getPrototypeOf(C) === Array;\n      "),
      "Array.isArray support":f("\n        class C extends Array {}\n        return Array.isArray(new C());\n      "),
      "Array.prototype.concat":f("\n        class C extends Array {}\n        var c = new C();\n        return c.concat(1) instanceof C;\n      "),
      "Array.prototype.filter":f("\n        class C extends Array {}\n        var c = new C();\n        return c.filter(Boolean) instanceof C;\n      "),
      "Array.prototype.map":f("\n        class C extends Array {}\n        var c = new C();\n        return c.map(Boolean) instanceof C;\n      "),
      "Array.prototype.slice":f("\n        class C extends Array {}\n        var c = new C();\n        c.push(2,4,6);\n        return c.slice(1,2) instanceof C;\n      "),
      "Array.prototype.splice":f("\n        class C extends Array {}\n        var c = new C();\n        c.push(2,4,6);\n        return c.splice(1,2) instanceof C;\n      "),
      "Array.from":f("\n        class C extends Array {}\n        return C.from({ length: 0 }) instanceof C;\n      "),
      "Array.of":f("\n        class C extends Array {}\n        return C.of(0) instanceof C;\n      ")
    },
    "RegExp is subclassable": { // test
      "basic functionality":f("\n        class R extends RegExp {}\n        var r = new R(\"baz\",\"g\");\n        return r.global && r.source === \"baz\";\n      "),
      "correct prototype chain":f("\n        class R extends RegExp {}\n        var r = new R(\"baz\",\"g\");\n        return r instanceof R && r instanceof RegExp && Object.getPrototypeOf(R) === RegExp;\n      "),
      "RegExp.prototype.exec":f("\n        class R extends RegExp {}\n        var r = new R(\"baz\",\"g\");\n        return r.exec(\"foobarbaz\")[0] === \"baz\" && r.lastIndex === 9;\n      "),
      "RegExp.prototype.test":f("\n        class R extends RegExp {}\n        var r = new R(\"baz\");\n        return r.test(\"foobarbaz\");\n      ")
    },
    "Function is subclassable": { // test
      "can be called":f("\n        class C extends Function {}\n        var c = new C(\"return 'foo';\");\n        return c() === 'foo';\n      "),
      "correct prototype chain":f("\n        class C extends Function {}\n        var c = new C(\"return 'foo';\");\n        return c instanceof C && c instanceof Function && Object.getPrototypeOf(C) === Function;\n      "),
      "can be used with \"new\"":f("\n        class C extends Function {}\n        var c = new C(\"this.bar = 2;\");\n        c.prototype.baz = 3;\n        return new c().bar === 2 && new c().baz === 3;\n      "),
      "Function.prototype.call":f("\n        class C extends Function {}\n        var c = new C(\"x\", \"return this.bar + x;\");\n        return c.call({bar:1}, 2) === 3;\n      "),
      "Function.prototype.apply":f("\n        class C extends Function {}\n        var c = new C(\"x\", \"return this.bar + x;\");\n        return c.apply({bar:1}, [2]) === 3;\n      "),
      "Function.prototype.bind":f("\n        class C extends Function {}\n        var c = new C(\"x\", \"y\", \"return this.bar + x + y;\").bind({bar:1}, 2);\n        return c(6) === 9 && c instanceof C;\n      ")
    },
    "Promise is subclassable": { // test
      "basic functionality":f("\n        class P extends Promise {}\n        var p1 = new P(function(resolve, reject) { resolve(\"foo\"); });\n        var p2 = new P(function(resolve, reject) { reject(\"quux\"); });\n        var score = +(p1 instanceof P);\n\n        function thenFn(result)  { score += (result === \"foo\");  check(); }\n        function catchFn(result) { score += (result === \"quux\"); check(); }\n        function shouldNotRun(result)  { score = -Infinity;   }\n\n        p1.then(thenFn, shouldNotRun);\n        p2.then(shouldNotRun, catchFn);\n        p1.catch(shouldNotRun);\n        p2.catch(catchFn);\n\n        p1.then(function() {\n          // P.prototype.then() should return a new P\n          score += p1.then() instanceof P && p1.then() !== p1;\n          check();\n        });\n\n        function check() {\n          if (score === 5) asyncTestPassed();\n        }\n      "),
      "correct prototype chain":f("\n        class C extends Promise {}\n        var c = new C(function(resolve, reject) { resolve(\"foo\"); });\n        return c instanceof C && c instanceof Promise && Object.getPrototypeOf(C) === Promise;\n      "),
      "Promise.all":f("\n        class P extends Promise {}\n        var fulfills = P.all([\n          new Promise(function(resolve)   { setTimeout(resolve,200,\"foo\"); }),\n          new Promise(function(resolve)   { setTimeout(resolve,100,\"bar\"); }),\n        ]);\n        var rejects = P.all([\n          new Promise(function(_, reject) { setTimeout(reject, 200,\"baz\"); }),\n          new Promise(function(_, reject) { setTimeout(reject, 100,\"qux\"); }),\n        ]);\n        var score = +(fulfills instanceof P);\n        fulfills.then(function(result) { score += (result + \"\" === \"foo,bar\"); check(); });\n        rejects.catch(function(result) { score += (result === \"qux\"); check(); });\n\n        function check() {\n          if (score === 3) asyncTestPassed();\n        }\n      "),
      "Promise.race":f("\n        class P extends Promise {}\n        var fulfills = P.race([\n          new Promise(function(resolve)   { setTimeout(resolve,200,\"foo\"); }),\n          new Promise(function(_, reject) { setTimeout(reject, 300,\"bar\"); }),\n        ]);\n        var rejects = P.race([\n          new Promise(function(_, reject) { setTimeout(reject, 200,\"baz\"); }),\n          new Promise(function(resolve)   { setTimeout(resolve,300,\"qux\"); }),\n        ]);\n        var score = +(fulfills instanceof P);\n        fulfills.then(function(result) { score += (result === \"foo\"); check(); });\n        rejects.catch(function(result) { score += (result === \"baz\"); check(); });\n\n        function check() {\n          if (score === 3) asyncTestPassed();\n        }\n      ")
    },
    "miscellaneous subclassables": { // test
      "Boolean is subclassable":f("\n        class C extends Boolean {}\n        var c = new C(true);\n        return c instanceof Boolean\n          && c instanceof C\n          && c == true;\n      "),
      "Number is subclassable":f("\n        class C extends Number {}\n        var c = new C(6);\n        return c instanceof Number\n          && c instanceof C\n          && +c === 6;\n      "),
      "String is subclassable":f("\n        class C extends String {}\n        var c = new C(\"golly\");\n        return c instanceof String\n          && c instanceof C\n          && c + '' === \"golly\"\n          && c[0] === \"g\"\n          && c.length === 5;\n      "),
      "Map is subclassable":f("\n        var key = {};\n        class M extends Map {}\n        var map = new M();\n\n        map.set(key, 123);\n\n        return map instanceof M && map.has(key) && map.get(key) === 123;\n      "),
      "Set is subclassable":f("\n        var obj = {};\n        class S extends Set {}\n        var set = new S();\n\n        set.add(123);\n        set.add(123);\n\n        return set instanceof S && set.has(123);\n      ")
    },
    "prototype of bound functions": { // test
      "basic functions":f("function t(t){var o=function(){};Object.setPrototypeOf?Object.setPrototypeOf(o,t):o.__proto__=t;var n=Function.prototype.bind.call(o,null);return Object.getPrototypeOf(n)===t}return t(Function.prototype)&&t({})&&t(null)"),
      "generator functions":f("\n          function correctProtoBound(proto) {\n            var f = function*(){};\n            if (Object.setPrototypeOf) {\n              Object.setPrototypeOf(f, proto);\n            }\n            else {\n              f.__proto__ = proto;\n            }\n            var boundF = Function.prototype.bind.call(f, null);\n            return Object.getPrototypeOf(boundF) === proto;\n          }\n          return correctProtoBound(Function.prototype)\n            && correctProtoBound({})\n            && correctProtoBound(null);\n      "),
      "arrow functions":f("\n          function correctProtoBound(proto) {\n            var f = ()=>5;\n            if (Object.setPrototypeOf) {\n              Object.setPrototypeOf(f, proto);\n            }\n            else {\n              f.__proto__ = proto;\n            }\n            var boundF = Function.prototype.bind.call(f, null);\n            return Object.getPrototypeOf(boundF) === proto;\n          }\n          return correctProtoBound(Function.prototype)\n            && correctProtoBound({})\n            && correctProtoBound(null);\n      "),
      "classes":f("\n          function correctProtoBound(proto) {\n            class C {}\n            if (Object.setPrototypeOf) {\n              Object.setPrototypeOf(C, proto);\n            }\n            else {\n              C.__proto__ = proto;\n            }\n            var boundF = Function.prototype.bind.call(C, null);\n            return Object.getPrototypeOf(boundF) === proto;\n          }\n          return correctProtoBound(Function.prototype)\n            && correctProtoBound({})\n            && correctProtoBound(null);\n      "),
      "subclasses":f("\n          function correctProtoBound(superclass) {\n            class C extends superclass {\n              constructor() {\n                return Object.create(null);\n              }\n            }\n            var boundF = Function.prototype.bind.call(C, null);\n            return Object.getPrototypeOf(boundF) === Object.getPrototypeOf(C);\n          }\n          return correctProtoBound(function(){})\n            && correctProtoBound(Array)\n            && correctProtoBound(null);\n      ")
    },
    "Proxy, internal 'get' calls": { // test
      "ToPrimitive":f("var t=[];new Proxy({toString:Function()},{get:function(n,i){return t.push(i),n[i]}});return t[0]===Symbol.toPrimitive&&t.slice(1)+\"\"==\"valueOf,toString\""),
      "CreateListFromArrayLike":f("var n=[],t=new Proxy({length:2,0:0,1:0},{get:function(t,e){return n.push(e),t[e]}});return Function.prototype.apply({},t),n+\"\"==\"length,0,1\""),
      "instanceof operator":f("var n=[];new Proxy(Function(),{get:function(t,e){return n.push(e),t[e]}});return n[0]===Symbol.hasInstance&&n.slice(1)+\"\"==\"prototype\""),
      "HasBinding":f("var get=[],p=new Proxy({foo:1},{get:function(o,e){return get.push(e),o[e]}});with(p[Symbol.unscopables]=p,p)typeof foo;return get[0]===Symbol.unscopables&&get.slice(1)+\"\"==\"foo\""),
      "CreateDynamicFunction":f("var n=[],t=new Proxy(Function,{get:function(t,r){return n.push(r),t[r]}});return new t,n+\"\"==\"prototype\""),
      "ClassDefinitionEvaluation":f("\n        // ClassDefinitionEvaluation -> Get -> [[Get]]\n        var get = [];\n        var p = new Proxy(Function(), { get: function(o, k) { get.push(k); return o[k]; }});\n        class C extends p {}\n        return get + '' === \"prototype\";\n      "),
      "IteratorComplete, IteratorValue":f("\n        // IteratorComplete -> Get -> [[Get]]\n        // IteratorValue -> Get -> [[Get]]\n        var get = [];\n        var iterable = {};\n        iterable[Symbol.iterator] = function() {\n          return {\n            next: function() {\n              return new Proxy({ value: 2, done: false }, { get: function(o, k) { get.push(k); return o[k]; }});\n            }\n          };\n        }\n        var i = 0;\n        for(var e of iterable) {\n          if (++i >= 2) break;\n        }\n        return get + '' === \"done,value,done,value\";\n      "),
      "ToPropertyDescriptor":f("var e=[],t=new Proxy({enumerable:!0,configurable:!0,value:!0,writable:!0,get:Function(),set:Function()},{get:function(t,n){return e.push(n),t[n]}});try{Object.defineProperty({},\"foo\",t)}catch(n){return e+\"\"==\"enumerable,configurable,value,writable,get,set\"}"),
      "Object.assign":f("var n=[],r=new Proxy({foo:1,bar:2},{get:function(r,o){return n.push(o),r[o]}});return Object.assign({},r),n+\"\"==\"foo,bar\""),
      "Object.defineProperties":f("var r=[],e=new Proxy({foo:{},bar:{}},{get:function(e,n){return r.push(n),e[n]}});return Object.defineProperties({},e),r+\"\"==\"foo,bar\""),
      "Function.prototype.bind":f("var n=[],t=new Proxy(Function(),{get:function(t,e){return n.push(e),t[e]}});return Function.prototype.bind.call(t),n+\"\"==\"length,name\""),
      "Error.prototype.toString":f("var r=[],n=new Proxy({},{get:function(n,t){return r.push(t),n[t]}});return Error.prototype.toString.call(n),r+\"\"==\"name,message\""),
      "String.raw":f("var n=[],r=new Proxy({length:2,0:\"\",1:\"\"},{get:function(r,t){return n.push(t),r[t]}}),t=new Proxy({raw:r},{get:function(r,t){return n.push(t),r[t]}});return String.raw(t),n+\"\"==\"raw,length,0,1\""),
      "RegExp constructor":f("var r=[],t={constructor:null};t[Symbol.match]=!0;var c=new Proxy(t,{get:function(t,c){return r.push(c),t[c]}});return RegExp(c),r[0]===Symbol.match&&r.slice(1)+\"\"==\"constructor,source,flags\""),
      "RegExp.prototype.flags":f("var e=[],t=new Proxy({},{get:function(t,r){return e.push(r),t[r]}});return Object.getOwnPropertyDescriptor(RegExp.prototype,\"flags\").get.call(t),e+\"\"==\"global,ignoreCase,multiline,unicode,sticky\""),
      "RegExp.prototype.test":f("var e=[],n=new Proxy({exec:function(){return null}},{get:function(n,t){return e.push(t),n[t]}});return RegExp.prototype.test.call(n),e+\"\"==\"exec\""),
      "RegExp.prototype[Symbol.match]":f("var e=[],l=new Proxy({exec:function(){return null}},{get:function(l,o){return e.push(o),l[o]}});return RegExp.prototype[Symbol.match].call(l),l.global=!0,RegExp.prototype[Symbol.match].call(l),e+\"\"==\"global,exec,global,unicode,exec\""),
      "RegExp.prototype[Symbol.replace]":f("var e=[],l=new Proxy({exec:function(){return null}},{get:function(l,o){return e.push(o),l[o]}});return RegExp.prototype[Symbol.replace].call(l),l.global=!0,RegExp.prototype[Symbol.replace].call(l),e+\"\"==\"global,exec,global,unicode,exec\""),
      "RegExp.prototype[Symbol.search]":f("var e=[],n=new Proxy({exec:function(){return null}},{get:function(n,r){return e.push(r),n[r]}});return RegExp.prototype[Symbol.search].call(n),e+\"\"==\"lastIndex,exec\""),
      "RegExp.prototype[Symbol.split]":f("var t=[],n=Function();n[Symbol.species]=Object;var e=new Proxy({constructor:n,flags:\"\",exec:function(){return null}},{get:function(n,e){return t.push(e),n[e]}});return RegExp.prototype[Symbol.split].call(e,\"\"),t+\"\"==\"constructor,flags,exec\""),
      "Array.from":f("var r=[],n=new Proxy({length:2,0:\"\",1:\"\"},{get:function(n,t){return r.push(t),n[t]}});return Array.from(n),r[0]===Symbol.iterator&&r.slice(1)+\"\"==\"length,0,1\""),
      "Array.prototype.concat":f("var r=[],t=[1];t.constructor=void 0;var n=new Proxy(t,{get:function(t,n){return r.push(n),t[n]}});return Array.prototype.concat.call(n,n),\"constructor\"===r[0]&&r[1]===Symbol.isConcatSpreadable&&\"length\"===r[2]&&\"0\"===r[3]&&r[4]===r[1]&&r[5]===r[2]&&r[6]===r[3]&&7===r.length"),
      "Array.prototype iteration methods":f("for(var e,n=[\"copyWithin\",\"every\",\"fill\",\"filter\",\"find\",\"findIndex\",\"forEach\",\"indexOf\",\"join\",\"lastIndexOf\",\"map\",\"reduce\",\"reduceRight\",\"some\"],t=new Proxy({length:2,0:\"\",1:\"\"},{get:function(n,t){return e.push(t),n[t]}}),r=0;r<n.length;r+=1)if(e=[],Array.prototype[n[r]].call(t,Function()),e+\"\"!=(\"fill\"===n[r]?\"length\":\"every\"===n[r]?\"length,0\":\"lastIndexOf\"===n[r]||\"reduceRight\"===n[r]?\"length,1,0\":\"length,0,1\"))return!1;return!0"),
      "Array.prototype.pop":f("var r=[],n=new Proxy([0,1,2,3],{get:function(n,t){return r.push(t),n[t]}});return Array.prototype.pop.call(n),r+\"\"==\"length,3\""),
      "Array.prototype.reverse":f("var r=[],e=new Proxy([0,,2,,4,,],{get:function(e,n){return r.push(n),e[n]}});return Array.prototype.reverse.call(e),r+\"\"==\"length,0,4,2\""),
      "Array.prototype.shift":f("var r=[],t=new Proxy([0,1,2,3],{get:function(t,n){return r.push(n),t[n]}});return Array.prototype.shift.call(t),r+\"\"==\"length,0,1,2,3\""),
      "Array.prototype.splice":f("var r=[],t=new Proxy([0,1,2,3],{get:function(t,n){return r.push(n),t[n]}});return Array.prototype.splice.call(t,1,1),Array.prototype.splice.call(t,1,0,1),r+\"\"==\"length,constructor,1,2,3,length,constructor,2,1\""),
      "Array.prototype.toString":f("var n=[],r=new Proxy({join:Function()},{get:function(r,t){return n.push(t),r[t]}});return Array.prototype.toString.call(r),n+\"\"==\"join\""),
      "JSON.stringify":f("var n=[],r=new Proxy({},{get:function(r,t){return n.push(t),r[t]}});return JSON.stringify(r),n+\"\"==\"toJSON\""),
      "Promise resolve functions":f("var n=[],e=new Proxy({},{get:function(e,r){return n.push(r),e[r]}});return new Promise(function(n){n(e)}),n+\"\"==\"then\""),
      "String.prototype.match":f("var t=[],n={};n[Symbol.toPrimitive]=Function();var i=new Proxy(n,{get:function(n,i){return t.push(i),n[i]}});return\"\".match(i),t[0]===Symbol.match&&t[1]===Symbol.toPrimitive&&2===t.length"),
      "String.prototype.replace":f("var e=[],r={};r[Symbol.toPrimitive]=Function();var t=new Proxy(r,{get:function(r,t){return e.push(t),r[t]}});return\"\".replace(t),e[0]===Symbol.replace&&e[1]===Symbol.toPrimitive&&2===e.length"),
      "String.prototype.search":f("var r=[],t={};t[Symbol.toPrimitive]=Function();var n=new Proxy(t,{get:function(t,n){return r.push(n),t[n]}});return\"\".search(n),r[0]===Symbol.search&&r[1]===Symbol.toPrimitive&&2===r.length"),
      "String.prototype.split":f("var t=[],i={};i[Symbol.toPrimitive]=Function();var n=new Proxy(i,{get:function(i,n){return t.push(n),i[n]}});return\"\".split(n),t[0]===Symbol.split&&t[1]===Symbol.toPrimitive&&2===t.length"),
      "Date.prototype.toJSON":f("var t=[],n=new Proxy({toString:Function(),toISOString:Function()},{get:function(n,o){return t.push(o),n[o]}});return Date.prototype.toJSON.call(n),t[0]===Symbol.toPrimitive&&t.slice(1)+\"\"==\"valueOf,toString,toISOString\"")
    },
    "Proxy, internal 'set' calls": { // test
      "Object.assign":f("var n=[],r=new Proxy({},{set:function(r,o,t){return n.push(o),r[o]=t,!0}});return Object.assign(r,{foo:1,bar:2}),n+\"\"==\"foo,bar\""),
      "Array.from":f("var n=[],r=new Proxy({},{set:function(r,t,e){return n.push(t),r[t]=e,!0}});return Array.from.call(function(){return r},{length:2,0:1,1:2}),n+\"\"==\"length\""),
      "Array.of":f("var n=[],r=new Proxy({},{set:function(r,t,u){return n.push(t),r[t]=u,!0}});return Array.of.call(function(){return r},1,2,3),n+\"\"==\"length\""),
      "Array.prototype.copyWithin":f("var n=[],r=new Proxy([1,2,3,4,5,6],{set:function(r,t,u){return n.push(t),r[t]=u,!0}});return r.copyWithin(0,3),n+\"\"==\"0,1,2\""),
      "Array.prototype.fill":f("var n=[],r=new Proxy([1,2,3,4,5,6],{set:function(r,t,u){return n.push(t),r[t]=u,!0}});return r.fill(0,3),n+\"\"==\"3,4,5\""),
      "Array.prototype.pop":f("var n=[],r=new Proxy([],{set:function(r,t,e){return n.push(t),r[t]=e,!0}});return r.pop(),n+\"\"==\"length\""),
      "Array.prototype.push":f("var n=[],r=new Proxy([],{set:function(r,t,u){return n.push(t),r[t]=u,!0}});return r.push(0,0,0),n+\"\"==\"0,1,2,length\""),
      "Array.prototype.reverse":f("var r=[],e=new Proxy([0,0,0,,],{set:function(e,n,t){return r.push(n),e[n]=t,!0}});return e.reverse(),r+\"\"==\"3,1,2\""),
      "Array.prototype.shift":f("var n=[],t=new Proxy([0,0,,0],{set:function(t,r,e){return n.push(r),t[r]=e,!0}});return t.shift(),n+\"\"==\"0,2,length\""),
      "Array.prototype.splice":f("var n=[],e=new Proxy([1,2,3],{set:function(e,r,t){return n.push(r),e[r]=t,!0}});return e.splice(1,0,0),n+\"\"==\"3,2,1,length\""),
      "Array.prototype.unshift":f("var n=[],t=new Proxy([0,0,,0],{set:function(t,r,u){return n.push(r),t[r]=u,!0}});return t.unshift(0,1),n+\"\"==\"5,3,2,0,1,length\"")
    },
    "Proxy, internal 'defineProperty' calls": { // test
      "[[Set]]":f("var r=[],o=new Proxy({foo:1,bar:2},{defineProperty:function(o,e,n){return r.push(e),Object.defineProperty(o,e,n),!0}});return o.foo=2,o.bar=4,r+\"\"==\"foo,bar\""),
      "SetIntegrityLevel":f("var e=[],r=new Proxy({foo:1,bar:2},{defineProperty:function(r,n,o){return e.push(n),Object.defineProperty(r,n,o),!0}});return Object.freeze(r),e+\"\"==\"foo,bar\"")
    },
    "Proxy, internal 'deleteProperty' calls": { // test
      "Array.prototype.copyWithin":f("var e=[],n=new Proxy([0,0,0,,,,],{deleteProperty:function(n,r){return e.push(r),delete n[r]}});return n.copyWithin(0,3),e+\"\"==\"0,1,2\""),
      "Array.prototype.pop":f("var e=[],r=new Proxy([0,0,0],{deleteProperty:function(r,n){return e.push(n),delete r[n]}});return r.pop(),e+\"\"==\"2\""),
      "Array.prototype.reverse":f("var e=[],r=new Proxy([0,,2,,4,,],{deleteProperty:function(r,n){return e.push(n),delete r[n]}});return r.reverse(),e+\"\"==\"0,4,2\""),
      "Array.prototype.shift":f("var e=[],r=new Proxy([0,,0,,0,0],{deleteProperty:function(r,t){return e.push(t),delete r[t]}});return r.shift(),e+\"\"==\"0,2,5\""),
      "Array.prototype.splice":f("var e=[],r=new Proxy([0,0,0,0,,0],{deleteProperty:function(r,n){return e.push(n),delete r[n]}});return r.splice(2,2,0),e+\"\"==\"3,5\""),
      "Array.prototype.unshift":f("var e=[],n=new Proxy([0,0,,0,,0],{deleteProperty:function(n,r){return e.push(r),delete n[r]}});return n.unshift(0),e+\"\"==\"5,3\"")
    },
    "Proxy, internal 'getOwnPropertyDescriptor' calls": { // test
      "[[Set]]":f("var r=[],o=new Proxy({},{getOwnPropertyDescriptor:function(o,t){return r.push(t),Object.getOwnPropertyDescriptor(o,t)}});return o.foo=1,o.bar=1,r+\"\"==\"foo,bar\""),
      "Object.assign":f("var r=[],t=new Proxy({foo:1,bar:2},{getOwnPropertyDescriptor:function(t,e){return r.push(e),Object.getOwnPropertyDescriptor(t,e)}});return Object.assign({},t),r+\"\"==\"foo,bar\""),
      "Object.prototype.hasOwnProperty":f("var r=[],t=new Proxy({foo:1,bar:2},{getOwnPropertyDescriptor:function(t,e){return r.push(e),Object.getOwnPropertyDescriptor(t,e)}});return t.hasOwnProperty(\"garply\"),r+\"\"==\"garply\""),
      "Function.prototype.bind":f("var r=[],n=new Proxy(Function(),{getOwnPropertyDescriptor:function(n,t){return r.push(t),Object.getOwnPropertyDescriptor(n,t)}});return n.bind(),r+\"\"==\"length\"")
    },
    "Proxy, internal 'ownKeys' calls": { // test
      "SetIntegrityLevel":f("var e=0,n=new Proxy({},{ownKeys:function(n){return e++,Object.keys(n)}});return Object.freeze(n),1===e"),
      "TestIntegrityLevel":f("var e=0,n=new Proxy(Object.preventExtensions({}),{ownKeys:function(n){return e++,Object.keys(n)}});return Object.isFrozen(n),1===e"),
      "SerializeJSONObject":f("var n=0,r=new Proxy({},{ownKeys:function(r){return n++,Object.keys(r)}});return JSON.stringify({a:r,b:r}),2===n")
    },
    "Object static methods accept primitives": { // test
      "Object.getPrototypeOf":f("return Object.getPrototypeOf(\"a\").constructor===String"),
      "Object.getOwnPropertyDescriptor":f("return void 0===Object.getOwnPropertyDescriptor(\"a\",\"foo\")"),
      "Object.getOwnPropertyNames":f("var e=Object.getOwnPropertyNames(\"a\");return 2===e.length&&(\"length\"===e[0]&&\"0\"===e[1]||\"0\"===e[0]&&\"length\"===e[1])"),
      "Object.seal":f("return\"a\"===Object.seal(\"a\")"),
      "Object.freeze":f("return\"a\"===Object.freeze(\"a\")"),
      "Object.preventExtensions":f("return\"a\"===Object.preventExtensions(\"a\")"),
      "Object.isSealed":f("return Object.isSealed(\"a\")===!0"),
      "Object.isFrozen":f("return Object.isFrozen(\"a\")===!0"),
      "Object.isExtensible":f("return Object.isExtensible(\"a\")===!1"),
      "Object.keys":f("var e=Object.keys(\"a\");return 1===e.length&&\"0\"===e[0]")
    },
    "own property order": { // test
      "for..in":f("var e={2:!0,0:!0,1:!0,\" \":!0,9:!0,D:!0,B:!0,\"-1\":!0};e.A=!0,e[3]=!0,\"EFGHIJKLMNOPQRSTUVWXYZ\".split(\"\").forEach(function(r){e[r]=!0}),Object.defineProperty(e,\"C\",{value:!0,enumerable:!0}),Object.defineProperty(e,\"4\",{value:!0,enumerable:!0}),delete e[2],e[2]=!0;var r=\"\";for(var n in e)r+=n;return\"012349 DB-1AEFGHIJKLMNOPQRSTUVWXYZC\"===r"),
      "Object.keys":f("var e={2:!0,0:!0,1:!0,\" \":!0,9:!0,D:!0,B:!0,\"-1\":!0};return e.A=!0,e[3]=!0,\"EFGHIJKLMNOPQRSTUVWXYZ\".split(\"\").forEach(function(n){e[n]=!0}),Object.defineProperty(e,\"C\",{value:!0,enumerable:!0}),Object.defineProperty(e,\"4\",{value:!0,enumerable:!0}),delete e[2],e[2]=!0,\"012349 DB-1AEFGHIJKLMNOPQRSTUVWXYZC\"===Object.keys(e).join(\"\")"),
      "Object.getOwnPropertyNames":f("var e={2:!0,0:!0,1:!0,\" \":!0,9:!0,D:!0,B:!0,\"-1\":!0};return e.A=!0,e[3]=!0,\"EFGHIJKLMNOPQRSTUVWXYZ\".split(\"\").forEach(function(r){e[r]=!0}),Object.defineProperty(e,\"C\",{value:!0,enumerable:!0}),Object.defineProperty(e,\"4\",{value:!0,enumerable:!0}),delete e[2],e[2]=!0,\"012349 DB-1AEFGHIJKLMNOPQRSTUVWXYZC\"===Object.getOwnPropertyNames(e).join(\"\")"),
      "Object.assign":f("var e=\"\",t={};\"012349 DBACEFGHIJKLMNOPQRST\".split(\"\").concat(-1).forEach(function(n){Object.defineProperty(t,n,{set:function(){e+=n}})});var n={2:2,0:0,1:1,\" \":\" \",9:9,D:\"D\",B:\"B\",\"-1\":\"-1\"};return Object.defineProperty(n,\"A\",{value:\"A\",enumerable:!0}),Object.defineProperty(n,\"3\",{value:\"3\",enumerable:!0}),Object.defineProperty(n,\"C\",{value:\"C\",enumerable:!0}),Object.defineProperty(n,\"4\",{value:\"4\",enumerable:!0}),delete n[2],n[2]=!0,\"EFGHIJKLMNOPQRST\".split(\"\").forEach(function(e){n[e]=e}),Object.assign(t,n),\"012349 DB-1ACEFGHIJKLMNOPQRST\"===e"),
      "JSON.stringify":f("var e={2:!0,0:!0,1:!0,\" \":!0,9:!0,D:!0,B:!0,\"-1\":!0};return e.A=!0,e[3]=!0,\"EFGHIJKLMNOPQRSTUVWXYZ\".split(\"\").forEach(function(r){e[r]=!0}),Object.defineProperty(e,\"C\",{value:!0,enumerable:!0}),Object.defineProperty(e,\"4\",{value:!0,enumerable:!0}),delete e[2],e[2]=!0,'{\"0\":true,\"1\":true,\"2\":true,\"3\":true,\"4\":true,\"9\":true,\" \":true,\"D\":true,\"B\":true,\"-1\":true,\"A\":true,\"E\":true,\"F\":true,\"G\":true,\"H\":true,\"I\":true,\"J\":true,\"K\":true,\"L\":true,\"M\":true,\"N\":true,\"O\":true,\"P\":true,\"Q\":true,\"R\":true,\"S\":true,\"T\":true,\"U\":true,\"V\":true,\"W\":true,\"X\":true,\"Y\":true,\"Z\":true,\"C\":true}'===JSON.stringify(e)"),
      "JSON.parse":f("var r=\"\";return JSON.parse('{\"0\":true,\"1\":true,\"2\":true,\"3\":true,\"4\":true,\"9\":true,\" \":true,\"D\":true,\"B\":true,\"-1\":true,\"E\":true,\"F\":true,\"G\":true,\"H\":true,\"I\":true,\"J\":true,\"K\":true,\"L\":true,\"A\":true,\"C\":true}',function(t,u){return r+=t,u}),\"012349 DB-1EFGHIJKLAC\"===r"),
      "Reflect.ownKeys, string key order":f("var e={2:!0,0:!0,1:!0,\" \":!0,9:!0,D:!0,B:!0,\"-1\":!0};return e.A=!0,e[3]=!0,\"EFGHIJKLMNOPQRSTUVWXYZ\".split(\"\").forEach(function(n){e[n]=!0}),Object.defineProperty(e,\"C\",{value:!0,enumerable:!0}),Object.defineProperty(e,\"4\",{value:!0,enumerable:!0}),delete e[2],e[2]=!0,\"012349 DB-1AEFGHIJKLMNOPQRSTUVWXYZC\"===Reflect.ownKeys(e).join(\"\")"),
      "Reflect.ownKeys, symbol key order":f("var e=Symbol(),r=Symbol(),l=Symbol(),n={1:!0,A:!0};n.B=!0,n[e]=!0,n[2]=!0,n[r]=!0,Object.defineProperty(n,\"C\",{value:!0,enumerable:!0}),Object.defineProperty(n,l,{value:!0,enumerable:!0}),Object.defineProperty(n,\"D\",{value:!0,enumerable:!0});var t=Reflect.ownKeys(n),b=t.length;return t[b-3]===e&&t[b-2]===r&&t[b-1]===l")
    },
    "miscellaneous": { // test
      "no escaped reserved words as identifiers":f("var a;try{eval(\"var v\\\\u0061r\")}catch(e){return!0}"),
      "duplicate property names in strict mode":f("\"use strict\";return void 0===this&&1==={a:1,a:1}.a"),
      "no semicolon needed after do-while":f("\n        do {} while (false) return true;\n      "),
      "no assignments allowed in for-in head":f("try{eval(\"for (var i = 0 in {}) {}\")}catch(e){return!0}"),
      "accessors aren't constructors":f("try{new(Object.getOwnPropertyDescriptor({get a(){}},\"a\").get)}catch(t){return!0}"),
      "Invalid Date":f("return new Date(NaN)+\"\"==\"Invalid Date\""),
      "RegExp constructor can alter flags":f("return new RegExp(/./im,\"g\").global===!0"),
      "built-in prototypes are not instances":f("try{return RegExp.prototype.source,!1}catch(r){}try{return Date.prototype.valueOf(),!1}catch(r){}return[Error,EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError].every(function(r){return\"[object Object]\"===Object.prototype.toString.call(r.prototype)})?!0:!1"),
      "function 'length' is configurable":f("var e=function(e,t){},t=Object.getOwnPropertyDescriptor(e,\"length\");return t.configurable?(Object.defineProperty(e,\"length\",{value:1}),1===e.length):!1"),
      "String.prototype case methods, Unicode support":f("return\"êëÄ\"===\"êêò\".toLowerCase()&&\"êêò\"===\"êëÄ\".toUpperCase()")
    },
    "non-strict function semantics": { // test
      "hoisted block-level function declaration":f("function n(){return 1}function r(){return 1}function t(){return 1}function t(){return 2}if(!this)return!1;var u=1===n();return u&=\"undefined\"==typeof r,u&=1===r(),u&=2===t(),u&=1===t()"),
      "labeled function statements":f("function n(){return 2}return this?2===n():!1"),
      "function statements in if-statement clauses":f("function n(){return 2}function t(){return 3}function r(){return 4}function u(){return 5}function u(){return 6}return this?2===n()&&3===t()&&4===r()&&6===u():!1")
    },
    "__proto__ in object literals": { // test
      "basic support":f("return{__proto__:[]}instanceof Array&&!({__proto__:null}instanceof Object)"),
      "multiple __proto__ is an error":f("try{eval(\"({ __proto__ : [], __proto__: {} })\")}catch(e){return!0}"),
      "not a computed property":f("\n        if (!({ __proto__ : [] } instanceof Array)) {\n          return false;\n        }\n        var a = \"__proto__\";\n        return !({ [a] : [] } instanceof Array);\n      "),
      "not a shorthand property":f("\n        if (!({ __proto__ : [] } instanceof Array)) {\n          return false;\n        }\n        var __proto__ = [];\n        return !({ __proto__ } instanceof Array);\n      "),
      "not a shorthand method":f("\n        if (!({ __proto__ : [] } instanceof Array)) {\n          return false;\n        }\n        return !({ __proto__(){} } instanceof Function);\n      ")
    },
    "Object.prototype.__proto__": { // test
      "get prototype":f("var n=function(){};return(new n).__proto__===n.prototype"),
      "set prototype":f("var r={};return r.__proto__=Array.prototype,r instanceof Array"),
      "absent from Object.create(null)":f("var t=Object.create(null),e={};return t.__proto__=e,Object.getPrototypeOf(t)!==e"),
      "present in hasOwnProperty()":f("return Object.prototype.hasOwnProperty(\"__proto__\")"),
      "correct property descriptor":f("var e=Object.getOwnPropertyDescriptor(Object.prototype,\"__proto__\");return e&&\"get\"in e&&\"set\"in e&&e.configurable&&!e.enumerable"),
      "present in Object.getOwnPropertyNames()":f("return Object.getOwnPropertyNames(Object.prototype).indexOf(\"__proto__\")>-1")
    },
    "String.prototype HTML methods": { // test
      "existence":f("var t,n=[\"anchor\",\"big\",\"bold\",\"fixed\",\"fontcolor\",\"fontsize\",\"italics\",\"link\",\"small\",\"strike\",\"sub\",\"sup\"];for(t=0;t<n.length;t++)if(\"function\"!=typeof String.prototype[n[t]])return!1;return!0"),
      "tags' names are lowercase":f("var o,r=[\"anchor\",\"big\",\"bold\",\"fixed\",\"fontcolor\",\"fontsize\",\"italics\",\"link\",\"small\",\"strike\",\"sub\",\"sup\"];for(o=0;o<r.length;o++)if(\"\"[r[o]]().toLowerCase()!==\"\"[r[o]]())return!1;return!0"),
      "quotes in arguments are escaped":f("var n,o=[\"anchor\",\"fontcolor\",\"fontsize\",\"link\"];for(n=0;n<o.length;n++)if(\"\"[o[n]]('\"')!==\"\"[o[n]](\"&quot;\"))return!1;return!0")
    },
      "RegExp.prototype.compile":f("return\"function\"==typeof RegExp.prototype.compile"),
    "RegExp syntax extensions": { // test
      "hyphens in character sets":f("return\"-\"===/[\\w-_]/.exec(\"-\")[0]"),
      "invalid character escapes":f("return\"z\"===/\\z/.exec(\"\\\\z\")[0]&&\"z\"===/[\\z]/.exec(\"[\\\\z]\")[0]"),
      "invalid control-character escapes":f("return\"\\\\c2\"===/\\c2/.exec(\"\\\\c2\")[0]"),
      "invalid Unicode escapes":f("return\"u1\"===/\\u1/.exec(\"u1\")[0]&&\"u\"===/[\\u1]/.exec(\"u\")[0]"),
      "invalid hexadecimal escapes":f("return\"x1\"===/\\x1/.exec(\"x1\")[0]&&\"x\"===/[\\x1]/.exec(\"x\")[0]"),
      "incomplete patterns and quantifiers":f("return\"x{1\"===/x{1/.exec(\"x{1\")[0]&&\"x]1\"===/x]1/.exec(\"x]1\")[0]"),
      "octal escape sequences":f("return\"!\"===/\\041/.exec(\"!\")[0]&&\"!\"===/[\\041]/.exec(\"!\")[0]"),
      "invalid backreferences become octal escapes":f("return\"!\"===/\\41/.exec(\"!\")[0]&&\"!\"===/[\\41]/.exec(\"!\")[0]")
    },
      "HTML-style comments":f("var n=3;return 3===n")  
},

  es7: {

      "Array.prototype.includes":f("return[1,2,3].includes(1)&&![1,2,3].includes(4)&&![1,2,3].includes(1,1)&&[NaN].includes(NaN)&&Array(1).includes()"),
    "exponentiation (**) operator": { // test
      "basic support":f("\n        return 2 ** 3 === 8 && -(5 ** 2) === -25 && (-5) ** 2 === 25;\n      "),
      "assignment":f("\n        var a = 2; a **= 3; return a === 8;\n      "),
      "early syntax error for unary negation without parens":f("\n        if (2 ** 3 !== 8) { return false; }\n        try {\n          Function(\"-5 ** 2\")();\n        } catch(e) {\n          return true;\n        }\n      ")
    },
      "Object.values":f("var a=Object.create({a:\"qux\",d:\"qux\"});a.a=\"foo\",a.b=\"bar\",a.c=\"baz\";var r=Object.values(a);return Array.isArray(r)&&\"foo,bar,baz\"===String(r)"),
      "Object.entries":f("var r=Object.create({a:\"qux\",d:\"qux\"});r.a=\"foo\",r.b=\"bar\",r.c=\"baz\";var a=Object.entries(r);return Array.isArray(a)&&3===a.length&&\"a,foo\"===String(a[0])&&\"b,bar\"===String(a[1])&&\"c,baz\"===String(a[2])"),
    "trailing commas in function syntax": { // test
      "in parameter lists":f("\n        return typeof function f( a, b, ){} === 'function';\n      "),
      "in argument lists":f("\n        return Math.min(1,2,3,) === 1;\n      ")
    },
    "async functions": { // test
      "basic support":f("\n        return (async function(){\n          return 42;\n        })() instanceof Promise\n      "),
      "await support":f("\n        return (async function(){\n          return 10 + await Promise.resolve(10);\n        })() instanceof Promise\n      "),
      "arrow async functions":f("\n        return (async () => 42 + await Promise.resolve(42))() instanceof Promise\n      ")
    },
    "SIMD (Single Instruction, Multiple Data)": { // test
      "basic support":f("return\"undefined\"!=typeof SIMD"),
      "Float32x4":f("return\"function\"==typeof SIMD.Float32x4"),
      "Float64x2":f("return\"function\"==typeof SIMD.Float64x2"),
      "Int32x4":f("return\"function\"==typeof SIMD.Int32x4"),
      "Int16x8":f("return\"function\"==typeof SIMD.Int16x8"),
      "Int8x16":f("return\"function\"==typeof SIMD.Int8x16"),
      "Bool32x4":f("return\"function\"==typeof SIMD.Bool32x4"),
      "Bool16x8":f("return\"function\"==typeof SIMD.Bool16x8"),
      "Bool8x16":f("return\"function\"==typeof SIMD.Bool8x16"),
      "SIMD.%type%.abs":f("return\"function\"==typeof SIMD.Float32x4.abs"),
      "SIMD.%type%.add":f("return\"function\"==typeof SIMD.Float32x4.add"),
      "SIMD.%integerType%.addSaturate":f("return\"function\"==typeof SIMD.Int16x8.addSaturate"),
      "SIMD.%booleanType%.and":f("return\"function\"==typeof SIMD.Bool16x8.and"),
      "SIMD.%booleanType%.anyTrue":f("return\"function\"==typeof SIMD.Bool32x4.anyTrue"),
      "SIMD.%booleanType%.allTrue":f("return\"function\"==typeof SIMD.Bool32x4.allTrue"),
      "SIMD.%type%.check":f("return\"function\"==typeof SIMD.Float32x4.check"),
      "SIMD.%type%.equal":f("return\"function\"==typeof SIMD.Float32x4.equal"),
      "SIMD.%type%.extractLane":f("return\"function\"==typeof SIMD.Float32x4.extractLane"),
      "SIMD.%type%.greaterThan":f("return\"function\"==typeof SIMD.Float32x4.greaterThan"),
      "SIMD.%type%.greaterThanOrEqual":f("return\"function\"==typeof SIMD.Float32x4.greaterThanOrEqual"),
      "SIMD.%type%.lessThan":f("return\"function\"==typeof SIMD.Float32x4.lessThan"),
      "SIMD.%type%.lessThanOrEqual":f("return\"function\"==typeof SIMD.Float32x4.lessThanOrEqual"),
      "SIMD.%type%.mul":f("return\"function\"==typeof SIMD.Float32x4.mul"),
      "SIMD.%type%.div":f("return\"function\"==typeof SIMD.Float32x4.div"),
      "SIMD.%type%.max":f("return\"function\"==typeof SIMD.Float32x4.max"),
      "SIMD.%type%.maxNum":f("return\"function\"==typeof SIMD.Float32x4.maxNum"),
      "SIMD.%type%.min":f("return\"function\"==typeof SIMD.Float32x4.min"),
      "SIMD.%type%.minNum":f("return\"function\"==typeof SIMD.Float32x4.minNum"),
      "SIMD.%type%.neg":f("return\"function\"==typeof SIMD.Float32x4.neg"),
      "SIMD.%booleanType%.not":f("return\"function\"==typeof SIMD.Bool16x8.not"),
      "SIMD.%type%.notEqual":f("return\"function\"==typeof SIMD.Float32x4.notEqual"),
      "SIMD.%type%.reciprocalApproximation":f("return\"function\"==typeof SIMD.Float32x4.reciprocalApproximation"),
      "SIMD.%type%.reciprocalSqrtApproximation":f("return\"function\"==typeof SIMD.Float32x4.reciprocalSqrtApproximation"),
      "SIMD.%type%.replaceLane":f("return\"function\"==typeof SIMD.Float32x4.replaceLane"),
      "SIMD.%type%.select":f("return\"function\"==typeof SIMD.Float32x4.select"),
      "SIMD.%integerType%.selectBits":f("return\"function\"==typeof SIMD.Int16x8.selectBits"),
      "SIMD.%integerType%.shiftLeftByScalar":f("return\"function\"==typeof SIMD.Int32x4.shiftLeftByScalar"),
      "SIMD.%integerType%.shiftRightLogicalByScalar":f("return\"function\"==typeof SIMD.Int32x4.shiftRightLogicalByScalar"),
      "SIMD.%integerType%.shiftRightArithmeticByScalar":f("return\"function\"==typeof SIMD.Int32x4.shiftRightArithmeticByScalar"),
      "SIMD.%type%.shuffle":f("return\"function\"==typeof SIMD.Float32x4.shuffle"),
      "SIMD.%type%.splat":f("return\"function\"==typeof SIMD.Float32x4.splat"),
      "SIMD.%type%.sqrt":f("return\"function\"==typeof SIMD.Float32x4.sqrt"),
      "SIMD.%type%.store":f("return\"function\"==typeof SIMD.Float32x4.store"),
      "SIMD.%type%.store1":f("return\"function\"==typeof SIMD.Float32x4.store1"),
      "SIMD.%type%.store2":f("return\"function\"==typeof SIMD.Float32x4.store1"),
      "SIMD.%type%.store3":f("return\"function\"==typeof SIMD.Float32x4.store1"),
      "SIMD.%type%.sub":f("return\"function\"==typeof SIMD.Float32x4.sub"),
      "SIMD.%integerType%.subSaturate":f("return\"function\"==typeof SIMD.Int16x8.subSaturate"),
      "SIMD.%type%.swizzle":f("return\"function\"==typeof SIMD.Float32x4.swizzle"),
      "SIMD.%booleanType%.xor":f("return\"function\"==typeof SIMD.Bool16x8.xor")
    },
    "String padding": { // test
      "String.prototype.padStart":f("return\"     hello\"===\"hello\".padStart(10)&&\"12341hello\"===\"hello\".padStart(10,\"1234\")&&\"hello\"===\"hello\".padStart()&&\"1hello\"===\"hello\".padStart(6,\"123\")"),
      "String.prototype.padEnd":f("return\"hello     \"===\"hello\".padEnd(10)&&\"hello12341\"===\"hello\".padEnd(10,\"1234\")&&\"hello\"===\"hello\".padEnd()&&\"hello1\"===\"hello\".padEnd(6,\"123\")")
    },
      "function.sent":f("\n    var result;\n    function* generator() {\n      result = function.sent;\n    }\n    var iter = generator();\n    iter.next('tromple');\n    return result === 'tromple';\n  "),
      "Object.observe":f("var e={x:1};Object.observe(e,function(e){var a=e[0];\"x\"===a.name&&\"update\"===a.type&&1===a.oldValue&&2===a.object.x&&asyncTestPassed()}),e.x=2"),
      "object rest properties":f("\n    var {a, ...rest} = {a: 1, b: 2, c: 3};\n    return a === 1 && rest.a === undefined && rest.b === 2 && rest.c === 3;\n  "),
      "object spread properties":f("\n    var spread = {b: 2, c: 3};\n    var O = {a: 1, ...spread};\n    return O.a + O.b + O.c === 6;\n  "),
      "ArrayBuffer.transfer":f("return\"function\"==typeof ArrayBuffer.transfer"),
      "class decorators":f("\n    class A {\n      @nonconf\n      get B() {}\n    }\n    function nonconf(target, name, descriptor) {\n      descriptor.configurable = false;\n      return descriptor;\n    }\n    return Object.getOwnPropertyDescriptor(A.prototype, \"B\").configurable === false;\n  "),
      "class properties":f("\n    class C {\n      x = 'x';\n      static y = 'y';\n    }\n    return new C().x + C.y === 'xy';\n  "),
      "call constructor":f("\n    class C {\n      constructor(){\n        this.x = 'x';\n      }\n      call constructor(){\n        return 'y';\n      }\n    }\n    return new C().x + C() === 'xy';\n  "),
    "String trimming": { // test
      "String.prototype.trimLeft":f("return\"abc   \t\\n\"===\" \t \\n abc   \t\\n\".trimLeft()"),
      "String.prototype.trimRight":f("return\" \t \\n abc\"===\" \t \\n abc   \t\\n\".trimRight()")
    },
    "bind (::) operator": { // test
      "binary form":f("\n        function foo() { this.garply += \"foo\"; return this; }\n        var obj = { garply: \"bar\" };\n        return typeof obj::foo === \"function\" && obj::foo().garply === \"barfoo\";\n      "),
      "unary form":f("\n        var obj = { garply: \"bar\", foo: function() { this.garply += \"foo\"; return this; } };\n        return typeof ::obj.foo === \"function\" && ::obj.foo().garply === \"barfoo\";\n      ")
    },
      "do expression":f("\n    return do {\n      let x = 23;\n      x + 19;\n    } === 42;\n  "),
      "Object.getOwnPropertyDescriptors":f("var e={a:1},a=\"function\"==typeof Symbol?Symbol(\"b\"):\"b\";e[a]=2;var r=Object.defineProperty(e,\"c\",{value:3}),b=Object.getOwnPropertyDescriptors(r);return 1===b.a.value&&b.a.enumerable===!0&&b.a.configurable===!0&&b.a.writable===!0&&2===b[a].value&&b[a].enumerable===!0&&b[a].configurable===!0&&b[a].writable===!0&&3===b.c.value&&b.c.enumerable===!1&&b.c.configurable===!1&&b.c.writable===!1"),
      "Map.prototype.toJSON":f("var n=new Map;return n.set(\"a\",\"b\"),n.set(\"c\",\"d\"),'[[\"a\",\"b\"],[\"c\",\"d\"]]'===JSON.stringify(n)"),
      "Set.prototype.toJSON":f("var n=new Set;return[1,2,3,2,1].forEach(function(r){n.add(r)}),\"[1,2,3]\"===JSON.stringify(n)"),
      "String.prototype.at":f("return\"†Æ∑\"===\"a†Æ∑b\".at(1)"),
      "array comprehensions":f("\n    return [for (a of [1, 2, 3]) a * a] + '' === '1,4,9';\n  "),
      "generator comprehensions":f("\n    var iterator = (for (a of [1,2]) a + 4);\n    var item = iterator.next();\n    var passed = item.value === 5 && item.done === false;\n    item = iterator.next();\n    passed    &= item.value === 6 && item.done === false;\n    item = iterator.next();\n    passed    &= item.value === undefined && item.done === true;\n    return passed;\n  "),
      "destructuring in comprehensions":f("\n    return [for([a, b] of [['a', 'b']])a + b][0] === 'ab';\n  "),
      "Reflect.Realm":f("var e,t=[\"eval\",\"global\",\"intrinsics\",\"stdlib\",\"directEval\",\"indirectEval\",\"initGlobal\",\"nonEval\"];if(\"object\"!=typeof Reflect||\"function\"!=typeof Reflect.Realm||\"object\"!=typeof Reflect.Realm.prototype)return!1;for(e=0;e<t.length;e++)if(!(t[e]in Reflect.Realm.prototype))return!1;return!0"),
      "RegExp.escape":f("return\"Hello, \\\\\\\\\\\\^\\\\$\\\\*\\\\+\\\\?\\\\.\\\\(\\\\)\\\\|\\\\[\\\\]\\\\{\\\\}!\"===RegExp.escape(\"Hello, \\\\^$*+?.()|[]{}!\")"),
      "generator functions can't be used with \"new\"":f("\n    function * generator() {\n      yield 3;\n    }\n    try {\n      new generator();\n    } catch(e) {\n      return true;\n    }\n  "),
      "strict fn w/ non-strict non-simple params is error":f("\n    function foo(...a){}\n    try {\n      Function(\"function bar(...a){'use strict';}\")();\n    } catch(e) {\n      return true;\n    }\n  "),
      "nested rest destructuring":f("\n    var [x, ...[y, ...z]] = [1,2,3,4];\n    return x === 1 && y === 2 && z + '' === '3,4';\n  ")  
}};
